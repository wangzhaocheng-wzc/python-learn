<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySQL关系型数据库学习教程</title>
    
    <!-- External CSS -->
    <link href="https://cdn.staticfile.org/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #3b82f6;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --border-color: #e5e7eb;
        }

        [data-theme="dark"] {
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --border-color: #374151;
        }

        * {
            font-family: 'Noto Sans SC', Tahoma, Arial, Roboto, "Droid Sans", "Helvetica Neue", "Droid Sans Fallback", "Heiti SC", "Hiragino Sans GB", Simsun, sans-serif;
        }

        .font-serif {
            font-family: 'Noto Serif SC', serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .sidebar {
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .content-section {
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .nav-item {
            color: var(--text-secondary);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-item:hover, .nav-item.active {
            color: var(--primary-color);
            background-color: rgba(37, 99, 235, 0.1);
        }

        .code-block {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%);
            border-left: 4px solid var(--primary-color);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                position: fixed;
                z-index: 50;
                height: 100vh;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-hidden {
            display: none;
        }

        .first-letter {
            float: left;
            font-size: 4rem;
            line-height: 3rem;
            padding-right: 8px;
            margin-top: 4px;
            color: var(--primary-color);
            font-weight: 700;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="sticky top-0 z-40 bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <button id="sidebar-toggle" class="md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    <div class="flex items-center ml-4 md:ml-0">
                        <i class="fas fa-database text-2xl text-blue-600 mr-3"></i>
                        <h1 class="text-xl font-bold text-gray-900 dark:text-white">MySQL学习教程</h1>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="theme-toggle" class="p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-700">
                        <i class="fas fa-moon text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar w-80 min-h-screen p-6">
            <div class="space-y-2">
                <div class="nav-item p-3 rounded-lg" data-section="hero">
                    <i class="fas fa-home mr-3"></i>课程介绍
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="overview">
                    <i class="fas fa-info-circle mr-3"></i>关系数据库概述
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="er-model">
                    <i class="fas fa-project-diagram mr-3"></i>ER模型
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="normalization">
                    <i class="fas fa-layer-group mr-3"></i>范式理论
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="integrity">
                    <i class="fas fa-shield-alt mr-3"></i>数据完整性
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="ddl">
                    <i class="fas fa-code mr-3"></i>DDL数据定义语言
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="dml">
                    <i class="fas fa-edit mr-3"></i>DML数据操作语言
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="index">
                    <i class="fas fa-search mr-3"></i>索引
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="transaction">
                    <i class="fas fa-exchange-alt mr-3"></i>数据一致性与事务
                </div>
                <div class="nav-item p-3 rounded-lg" data-section="python">
                    <i class="fab fa-python mr-3"></i>Python数据库编程
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-8">
            <!-- Hero Section -->
            <section id="hero" class="content-section mb-8 rounded-xl overflow-hidden">
                <div class="hero-gradient text-white p-12 text-center">
                    <div class="max-w-4xl mx-auto">
                        <h1 class="text-5xl font-bold mb-6 font-serif">MySQL关系型数据库</h1>
                        <p class="text-xl mb-8 opacity-90">深入学习关系型数据库的核心概念与实践应用</p>
                        <div class="flex justify-center space-x-8 text-sm">
                            <div class="flex items-center">
                                <i class="fas fa-clock mr-2"></i>
                                <span>学习时长: 8-12小时</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-layer-group mr-2"></i>
                                <span>难度: 中级</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-users mr-2"></i>
                                <span>适合: 开发者</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-8 bg-white dark:bg-gray-800">
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="card-hover p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                            <i class="fas fa-database text-3xl text-blue-600 mb-4"></i>
                            <h3 class="text-lg font-semibold mb-2">数据库基础</h3>
                            <p class="text-gray-600 dark:text-gray-300">掌握关系型数据库的核心概念和理论基础</p>
                        </div>
                        <div class="card-hover p-6 bg-green-50 dark:bg-green-900/20 rounded-lg">
                            <i class="fas fa-code text-3xl text-green-600 mb-4"></i>
                            <h3 class="text-lg font-semibold mb-2">SQL语言</h3>
                            <p class="text-gray-600 dark:text-gray-300">学习DDL、DML等SQL语言的实际应用</p>
                        </div>
                        <div class="card-hover p-6 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                            <i class="fas fa-cogs text-3xl text-purple-600 mb-4"></i>
                            <h3 class="text-lg font-semibold mb-2">性能优化</h3>
                            <p class="text-gray-600 dark:text-gray-300">掌握索引、事务等数据库优化技术</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Overview Section -->
            <section id="overview" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-info-circle text-blue-600 mr-4"></i>
                        关系数据库概述
                    </h2>
                    
                    <div class="prose max-w-none">
                        <div class="highlight-box p-6 rounded-lg mb-6">
                            <h3 class="text-xl font-semibold mb-4">核心概念</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold mb-2 flex items-center">
                                        <i class="fas fa-save text-blue-600 mr-2"></i>数据持久化
                                    </h4>
                                    <p class="text-gray-600 dark:text-gray-300">将数据保存到能够长久保存数据的存储介质中，在掉电的情况下数据也不会丢失。</p>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2 flex items-center">
                                        <i class="fas fa-history text-green-600 mr-2"></i>数据库发展史
                                    </h4>
                                    <p class="text-gray-600 dark:text-gray-300">网状数据库、层次数据库、关系数据库、NoSQL数据库、NewSQL数据库。</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6 rounded-lg mb-6">
                            <h3 class="text-xl font-semibold mb-4">历史里程碑</h3>
                            <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border-l-4 border-blue-500">
                                <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">1970年</p>
                                <p>IBM的研究员E.F.Codd在<em>Communication of the ACM</em>上发表了名为<em>A Relational Model of Data for Large Shared Data Banks</em>的论文，提出了<strong>关系模型</strong>的概念，奠定了关系模型的理论基础。后来Codd又陆续发表多篇文章，论述了范式理论和衡量关系系统的12条标准，用数学理论奠定了关系数据库的基础。</p>
                            </div>
                        </div>

                        <h3 class="text-xl font-semibold mb-4">关系数据库特点</h3>
                        <div class="grid md:grid-cols-3 gap-4 mb-6">
                            <div class="card-hover p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                                <i class="fas fa-calculator text-2xl text-purple-600 mb-3"></i>
                                <h4 class="font-semibold mb-2">理论基础</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300"><strong>集合论</strong>和<strong>关系代数</strong></p>
                            </div>
                            <div class="card-hover p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                                <i class="fas fa-table text-2xl text-green-600 mb-3"></i>
                                <h4 class="font-semibold mb-2">具体表象</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300">用<strong>二维表</strong>（有行和列）组织数据</p>
                            </div>
                            <div class="card-hover p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                                <i class="fas fa-code text-2xl text-blue-600 mb-3"></i>
                                <h4 class="font-semibold mb-2">编程语言</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300"><strong>结构化查询语言</strong>（SQL）</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ER Model Section -->
            <section id="er-model" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-project-diagram text-blue-600 mr-4"></i>
                        ER模型（实体关系模型）
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <p class="mb-4"><span class="first-letter">E</span><strong>R模型</strong>，全称为<strong>实体关系模型</strong>（Entity-Relationship Model），由美籍华裔计算机科学家陈品山先生提出，是概念数据模型的高层描述方式。</p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="space-y-4">
                            <h3 class="text-xl font-semibold mb-4">ER模型组成要素</h3>
                            <div class="space-y-3">
                                <div class="flex items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg">
                                    <div class="w-4 h-4 bg-red-500 mr-3"></div>
                                    <span><strong>实体</strong> - 矩形框</span>
                                </div>
                                <div class="flex items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg">
                                    <div class="w-4 h-4 bg-green-500 rounded-full mr-3"></div>
                                    <span><strong>属性</strong> - 椭圆框</span>
                                </div>
                                <div class="flex items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                                    <div class="w-4 h-4 bg-blue-500 transform rotate-45 mr-3"></div>
                                    <span><strong>关系</strong> - 菱形框</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-4">重数关系</h3>
                            <div class="space-y-3">
                                <div class="p-3 bg-gray-50 dark:bg-gray-800 rounded-lg">
                                    <strong>1:1</strong> - 一对一关系
                                </div>
                                <div class="p-3 bg-gray-50 dark:bg-gray-800 rounded-lg">
                                    <strong>1:N</strong> - 一对多关系
                                </div>
                                <div class="p-3 bg-gray-50 dark:bg-gray-800 rounded-lg">
                                    <strong>M:N</strong> - 多对多关系
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 flex items-center">
                            <i class="fas fa-tools text-purple-600 mr-2"></i>实际应用
                        </h3>
                        <p class="text-gray-700 dark:text-gray-300">实际项目开发中，我们可以利用数据库建模工具（如：PowerDesigner）来绘制概念数据模型（其本质就是ER模型），然后再设置好目标数据库系统，将概念模型转换成物理模型，最终生成创建二维表的SQL（很多工具都可以根据我们设计的物理模型图以及设定的目标数据库来导出SQL或直接生成数据表）。</p>
                    </div>
                </div>
            </section>

            <!-- Normalization Section -->
            <section id="normalization" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-layer-group text-blue-600 mr-4"></i>
                        范式理论
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <p class="text-lg">范式理论是设计关系型数据库中二维表的指导思想。</p>
                    </div>

                    <div class="space-y-6">
                        <div class="card-hover p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                            <div class="flex items-start">
                                <div class="bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 mt-1">1</div>
                                <div>
                                    <h3 class="text-xl font-semibold mb-2">第一范式（1NF）</h3>
                                    <p class="text-gray-600 dark:text-gray-300">数据表的每个列的值域都是由原子值组成的，不能够再分割。</p>
                                </div>
                            </div>
                        </div>

                        <div class="card-hover p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                            <div class="flex items-start">
                                <div class="bg-green-100 dark:bg-green-900/30 text-green-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 mt-1">2</div>
                                <div>
                                    <h3 class="text-xl font-semibold mb-2">第二范式（2NF）</h3>
                                    <p class="text-gray-600 dark:text-gray-300">数据表里的所有数据都要和该数据表的键（主键与候选键）有完全依赖关系。</p>
                                </div>
                            </div>
                        </div>

                        <div class="card-hover p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                            <div class="flex items-start">
                                <div class="bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 mt-1">3</div>
                                <div>
                                    <h3 class="text-xl font-semibold mb-2">第三范式（3NF）</h3>
                                    <p class="text-gray-600 dark:text-gray-300">所有非键属性都只和候选键有相关性，也就是说非键属性之间应该是独立无关的。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Data Integrity Section -->
            <section id="integrity" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-shield-alt text-blue-600 mr-4"></i>
                        数据完整性
                    </h2>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="card-hover p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg">
                            <i class="fas fa-key text-3xl text-blue-600 mb-4"></i>
                            <h3 class="text-lg font-semibold mb-3">实体完整性</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">每个实体都是独一无二的</p>
                            <div class="space-y-2 text-sm">
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>主键（primary key）</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>唯一约束</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>唯一索引（unique）</span>
                                </div>
                            </div>
                        </div>

                        <div class="card-hover p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg">
                            <i class="fas fa-link text-3xl text-green-600 mb-4"></i>
                            <h3 class="text-lg font-semibold mb-3">引用完整性</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">关系中不允许引用不存在的实体</p>
                            <div class="space-y-2 text-sm">
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>外键（foreign key）</span>
                                </div>
                            </div>
                        </div>

                        <div class="card-hover p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg">
                            <i class="fas fa-check-circle text-3xl text-purple-600 mb-4"></i>
                            <h3 class="text-lg font-semibold mb-3">域完整性</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">数据是有效的</p>
                            <div class="space-y-2 text-sm">
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>数据类型及长度</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>非空约束（not null）</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>默认值约束（default）</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>检查约束（check）</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 rounded-lg">
                        <div class="flex items-center">
                            <i class="fas fa-exclamation-triangle text-yellow-600 mr-2"></i>
                            <strong>说明：</strong>
                        </div>
                        <p class="mt-2 text-gray-700 dark:text-gray-300">在MySQL数据库中，检查约束并不起作用。</p>
                    </div>
                </div>
            </section>

            <!-- DDL Section -->
            <section id="ddl" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-code text-blue-600 mr-4"></i>
                        DDL（数据定义语言）
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4">创建数据库和表结构</h3>
                        <p class="text-gray-600 dark:text-gray-300">DDL用于定义数据库结构，包括创建、修改和删除数据库对象。</p>
                    </div>

                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center">
                                <i class="fas fa-database text-green-600 mr-2"></i>
                                创建数据库
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>-- 如果存在名为school的数据库就删除它
drop database if exists `school`;

-- 创建名为school的数据库并设置默认的字符集和排序方式
create database `school` default character set utf8mb4;

-- 切换到school数据库上下文环境
use `school`;</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center">
                                <i class="fas fa-table text-blue-600 mr-2"></i>
                                创建学院表
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>-- 创建学院表
create table `tb_college`
(
`col_id` int unsigned auto_increment comment '编号',
`col_name` varchar(50) not null comment '名称',
`col_intro` varchar(5000) default '' comment '介绍',
primary key (`col_id`)
) engine=innodb comment '学院表';</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center">
                                <i class="fas fa-user-graduate text-purple-600 mr-2"></i>
                                创建学生表
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>-- 创建学生表
create table `tb_student`
(
`stu_id` int unsigned not null comment '学号',
`stu_name` varchar(20) not null comment '姓名',
`stu_sex` boolean default 1 comment '性别',
`stu_birth` date not null comment '出生日期',
`stu_addr` varchar(255) default '' comment '籍贯',
`col_id` int unsigned not null comment '所属学院',
primary key (`stu_id`),
foreign key (`col_id`) references `tb_college` (`col_id`)
) engine=innodb comment '学生表';</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center">
                                <i class="fas fa-chalkboard-teacher text-orange-600 mr-2"></i>
                                创建教师表和课程表
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>-- 创建教师表
create table `tb_teacher`
(
`tea_id` int unsigned not null comment '工号',
`tea_name` varchar(20) not null comment '姓名',
`tea_title` varchar(10) default '助教' comment '职称',
`col_id` int unsigned not null comment '所属学院',
primary key (`tea_id`),
foreign key (`col_id`) references `tb_college` (`col_id`)
) engine=innodb comment '老师表';

-- 创建课程表
create table `tb_course`
(
`cou_id` int unsigned not null comment '编号',
`cou_name` varchar(50) not null comment '名称',
`cou_credit` int unsigned not null comment '学分',
`tea_id` int unsigned not null comment '授课老师',
primary key (`cou_id`),
foreign key (`tea_id`) references `tb_teacher` (`tea_id`)
) engine=innodb comment '课程表';</code></pre>
                            </div>
                        </div>

                        <div class="bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3 flex items-center">
                                <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                                重要说明
                            </h3>
                            <div class="space-y-3 text-sm">
                                <p><strong>字符集设置：</strong> 创建数据库时，通过 <code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">default charset utf8mb4</code> 指定了数据库默认使用的字符集，推荐使用该字符集，因为utf8mb4能够支持国际化编码，包括Emoji等图片字符。</p>
                                <p><strong>查看字符集：</strong> 查看MySQL支持的字符集可以执行：<code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">show character set;</code></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- DML Section -->
            <section id="dml" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-edit text-blue-600 mr-4"></i>
                        DML（数据操作语言）
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4">数据操作核心功能</h3>
                        <p class="text-gray-600 dark:text-gray-300">DML用于对数据库中的数据进行增删改查操作，是日常开发中使用最频繁的SQL语句。</p>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-calculator text-green-600 mr-2"></i>
                                MySQL运算符
                            </h3>
                            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                                <div>
                                    <h4 class="font-semibold mb-2">算术运算符</h4>
                                    <div class="space-y-1">
                                        <div><code>+</code> 加法</div>
                                        <div><code>-</code> 减法</div>
                                        <div><code>*</code> 乘法</div>
                                        <div><code>/</code> 除法</div>
                                        <div><code>%</code> 取模</div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">比较运算符</h4>
                                    <div class="space-y-1">
                                        <div><code>=</code> 等于</div>
                                        <div><code>&lt;&gt;</code> 不等于</div>
                                        <div><code>&lt;</code> 小于</div>
                                        <div><code>&gt;</code> 大于</div>
                                        <div><code>BETWEEN</code> 范围</div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">逻辑运算符</h4>
                                    <div class="space-y-1">
                                        <div><code>NOT</code> 非</div>
                                        <div><code>AND</code> 与</div>
                                        <div><code>OR</code> 或</div>
                                        <div><code>XOR</code> 异或</div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">位运算符</h4>
                                    <div class="space-y-1">
                                        <div><code>&amp;</code> 按位与</div>
                                        <div><code>|</code> 按位或</div>
                                        <div><code>^</code> 按位异或</div>
                                        <div><code>~</code> 按位取反</div>
                                        <div><code>&gt;&gt;</code> 右移</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-function text-blue-600 mr-2"></i>
                                常用字符串函数
                            </h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm border-collapse border border-gray-300 dark:border-gray-600">
                                    <thead class="bg-gray-50 dark:bg-gray-800">
                                        <tr>
                                            <th class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left">函数</th>
                                            <th class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left">功能</th>
                                            <th class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left">示例</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>CONCAT</code></td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2">字符串连接</td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>CONCAT('Hello', 'World')</code></td>
                                        </tr>
                                        <tr class="bg-gray-50 dark:bg-gray-800">
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>LENGTH</code></td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2">获取字符串长度</td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>LENGTH('MySQL')</code></td>
                                        </tr>
                                        <tr>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>UPPER/LOWER</code></td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2">大小写转换</td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>UPPER('mysql')</code></td>
                                        </tr>
                                        <tr class="bg-gray-50 dark:bg-gray-800">
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>SUBSTRING</code></td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2">字符串截取</td>
                                            <td class="border border-gray-300 dark:border-gray-600 px-4 py-2"><code>SUBSTRING('MySQL', 1, 2)</code></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Index Section -->
            <section id="index" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-search text-blue-600 mr-4"></i>
                        索引
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <p class="text-lg mb-4"><span class="first-letter">索</span>引是关系型数据库中用来提升查询性能最为重要的手段。关系型数据库中的索引就像一本书的目录，我们可以想象一下，如果要从一本书中找出某个知识点，但是这本书没有目录，这将是意见多么可怕的事情（我们估计得一篇一篇的翻下去，才能确定这个知识点到底在什么位置）。</p>
                        <p class="text-gray-600 dark:text-gray-300">创建索引虽然会带来存储空间上的开销，就像一本书的目录会占用一部分的篇幅一样，但是在牺牲空间后换来的查询时间的减少也是非常显著的。</p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="card-hover p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                                MySQL索引特性
                            </h3>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>所有数据类型的列都可以被索引</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>InnoDB和MyISAM支持每个表创建16个索引</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>底层算法使用B-tree（B树）</span>
                                </div>
                            </div>
                        </div>

                        <div class="card-hover p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-tree text-green-600 mr-2"></i>
                                B-tree特点
                            </h3>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-center">
                                    <i class="fas fa-balance-scale text-blue-500 mr-2"></i>
                                    <span>自平衡的树结构</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-sort text-blue-500 mr-2"></i>
                                    <span>能够保持数据有序</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-tachometer-alt text-blue-500 mr-2"></i>
                                    <span>查找、插入、删除都在对数时间内完成</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold mb-4 flex items-center">
                            <i class="fas fa-search-plus text-purple-600 mr-2"></i>
                            查看SQL执行计划
                        </h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">我们可以使用MySQL的<code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">explain</code>关键字来查看SQL的执行计划：</p>
                        
                        <div class="code-block p-4 mb-4">
                            <pre class="text-sm overflow-x-auto"><code>explain select * from tb_student where stuname='林震南'\G</code></pre>
                        </div>

                        <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">执行计划结果示例：</h4>
                            <div class="code-block p-4">
                                <pre class="text-xs overflow-x-auto"><code>*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: tb_student
   partitions: NULL
         type: ALL
possible_keys: NULL
          key: NULL
      key_len: NULL
          ref: NULL
         rows: 11
     filtered: 10.00
        Extra: Using where
1 row in set, 1 warning (0.00 sec)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transaction Section -->
            <section id="transaction" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fas fa-exchange-alt text-blue-600 mr-4"></i>
                        数据一致性与事务
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4">事务概念</h3>
                        <p class="text-lg">事务：一系列对数据库进行读/写的操作，这些操作要么全都成功，要么全都失败。</p>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-xl font-semibold mb-6">事务的ACID特性</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="card-hover p-6 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-lg">
                                <div class="flex items-center mb-4">
                                    <div class="bg-red-100 dark:bg-red-900/30 text-red-600 rounded-full w-10 h-10 flex items-center justify-center font-bold mr-3">A</div>
                                    <h4 class="text-lg font-semibold">原子性 (Atomicity)</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行</p>
                            </div>

                            <div class="card-hover p-6 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg">
                                <div class="flex items-center mb-4">
                                    <div class="bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-full w-10 h-10 flex items-center justify-center font-bold mr-3">C</div>
                                    <h4 class="text-lg font-semibold">一致性 (Consistency)</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">事务应确保数据库的状态从一个一致状态转变为另一个一致状态</p>
                            </div>

                            <div class="card-hover p-6 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg">
                                <div class="flex items-center mb-4">
                                    <div class="bg-green-100 dark:bg-green-900/30 text-green-600 rounded-full w-10 h-10 flex items-center justify-center font-bold mr-3">I</div>
                                    <h4 class="text-lg font-semibold">隔离性 (Isolation)</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">多个事务并发执行时，一个事务的执行不应影响其他事务的执行</p>
                            </div>

                            <div class="card-hover p-6 bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg">
                                <div class="flex items-center mb-4">
                                    <div class="bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-full w-10 h-10 flex items-center justify-center font-bold mr-3">D</div>
                                    <h4 class="text-lg font-semibold">持久性 (Durability)</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">已被提交的事务对数据库的修改应该永久保存在数据库中</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-4">MySQL中的事务操作</h3>
                        <div class="space-y-4">
                            <div class="card-hover p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fas fa-play text-green-600 mr-2"></i>
                                    开启事务环境
                                </h4>
                                <div class="code-block p-3">
                                    <pre class="text-sm"><code>start transaction</code></pre>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-2">或者使用：</p>
                                <div class="code-block p-3 mt-2">
                                    <pre class="text-sm"><code>begin</code></pre>
                                </div>
                            </div>

                            <div class="card-hover p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fas fa-check text-blue-600 mr-2"></i>
                                    提交事务
                                </h4>
                                <div class="code-block p-3">
                                    <pre class="text-sm"><code>commit</code></pre>
                                </div>
                            </div>

                            <div class="card-hover p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fas fa-undo text-red-600 mr-2"></i>
                                    回滚事务
                                </h4>
                                <div class="code-block p-3">
                                    <pre class="text-sm"><code>rollback</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Python Database Programming Section -->
            <section id="python" class="content-section section-hidden mb-8 p-8 rounded-xl">
                <div class="fade-in">
                    <h2 class="text-3xl font-bold mb-6 font-serif flex items-center">
                        <i class="fab fa-python text-blue-600 mr-4"></i>
                        Python数据库编程
                    </h2>
                    
                    <div class="highlight-box p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4">演示数据库</h3>
                        <p class="text-gray-600 dark:text-gray-300">我们用如下所示的数据库来演示在Python中如何访问MySQL数据库。</p>
                    </div>

                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-database text-green-600 mr-2"></i>
                                创建演示数据库
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>drop database if exists hrs;
create database hrs default charset utf8;

use hrs;</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-building text-blue-600 mr-2"></i>
                                创建部门表
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>drop table if exists tb_emp;
drop table if exists tb_dept;

create table tb_dept
(
dno   int not null comment '编号',
dname varchar(10) not null comment '名称',
dloc  varchar(20) not null comment '所在地',
primary key (dno)
);

insert into tb_dept values 
	(10, '会计部', '北京'),
	(20, '研发部', '成都'),
	(30, '销售部', '重庆'),
	(40, '运维部', '深圳');</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-users text-purple-600 mr-2"></i>
                                创建员工表
                            </h3>
                            <div class="code-block p-4">
                                <pre class="text-sm overflow-x-auto"><code>create table tb_emp
(
eno   int not null comment '员工编号',
ename varchar(20) not null comment '员工姓名',
job   varchar(20) not null comment '员工职位',
mgr   int comment '主管编号',
sal   int not null comment '员工月薪',
comm  int comment '每月补贴',
dno   int comment '所在部门编号',
primary key (eno)
);

alter table tb_emp add constraint fk_emp_dno foreign key (dno) references tb_dept (dno);</code></pre>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 flex items-center">
                                <i class="fas fa-lightbulb text-yellow-600 mr-2"></i>
                                扩展学习
                            </h3>
                            <p class="text-gray-700 dark:text-gray-300 mb-4">关于MySQL的知识远远不止上面列出的这些，还包括：</p>
                            <div class="grid md:grid-cols-2 gap-4 text-sm">
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <i class="fas fa-tachometer-alt text-blue-500 mr-2"></i>
                                        <span>MySQL性能优化</span>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-tools text-green-500 mr-2"></i>
                                        <span>管理和维护MySQL的相关工具</span>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-save text-purple-500 mr-2"></i>
                                        <span>MySQL数据的备份和恢复</span>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <i class="fas fa-chart-line text-red-500 mr-2"></i>
                                        <span>监控MySQL</span>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-server text-indigo-500 mr-2"></i>
                                        <span>部署高可用架构</span>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-code text-orange-500 mr-2"></i>
                                        <span>Python数据库编程实践</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-700 dark:text-gray-300 mt-4">这些内容都是跟项目开发密切相关的，我们会在有需要的时候再进行详细讲解。</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>

    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to system preference
        const savedTheme = localStorage.getItem('theme');
        const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        const currentTheme = savedTheme || systemTheme;
        
        if (currentTheme === 'dark') {
            html.setAttribute('data-theme', 'dark');
            html.classList.add('dark');
            themeToggle.innerHTML = '<i class="fas fa-sun text-lg"></i>';
        }
        
        themeToggle.addEventListener('click', () => {
            const isDark = html.classList.contains('dark');
            
            if (isDark) {
                html.classList.remove('dark');
                html.removeAttribute('data-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon text-lg"></i>';
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                html.setAttribute('data-theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun text-lg"></i>';
                localStorage.setItem('theme', 'dark');
            }
        });

        // Sidebar Toggle for Mobile
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebar-overlay');
        
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.add('open');
            sidebarOverlay.classList.remove('hidden');
        });
        
        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            sidebarOverlay.classList.add('hidden');
        });

        // Navigation
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.content-section');
        
        function showSection(targetSection) {
            // Hide all sections
            sections.forEach(section => {
                section.classList.add('section-hidden');
            });
            
            // Show target section
            const target = document.getElementById(targetSection);
            if (target) {
                target.classList.remove('section-hidden');
                target.classList.add('fade-in');
                
                // Remove animation class after animation completes
                setTimeout(() => {
                    target.classList.remove('fade-in');
                }, 600);
            }
            
            // Update active nav item
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            const activeNav = document.querySelector(`[data-section="${targetSection}"]`);
            if (activeNav) {
                activeNav.classList.add('active');
            }
            
            // Close mobile sidebar
            sidebar.classList.remove('open');
            sidebarOverlay.classList.add('hidden');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                const section = item.getAttribute('data-section');
                showSection(section);
            });
        });
        
        // Show hero section by default
        showSection('hero');
        
        // Smooth scrolling for better UX
        document.addEventListener('DOMContentLoaded', () => {
            // Add smooth scrolling to all internal links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>