<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NoSQLÊï∞ÊçÆÂ∫ìÊñ∞ÊâãÂÖ•Èó®</title>
    
    <!-- Â¢ûÂº∫ÁöÑCSSÊ†∑Âºè -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        /* ËøõÂ∫¶Êù°Ê†∑Âºè */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00d2ff, #3a7bd5);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* ÊêúÁ¥¢ÂäüËÉΩÊ†∑Âºè */
        .search-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999;
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 8px 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .search-input {
            border: none;
            outline: none;
            padding: 8px 12px;
            border-radius: 20px;
            width: 200px;
            font-size: 14px;
            background: transparent;
        }

        .search-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            margin-left: 5px;
            transition: transform 0.2s;
        }

        .search-btn:hover {
            transform: scale(1.05);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            max-height: 300px;
            overflow-y: auto;
            display: none;
            margin-top: 5px;
        }

        .search-result-item {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-result-item:hover {
            background: #f8f9fa;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-highlight {
            background: yellow;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            margin-top: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            animation: fadeInDown 1s ease-out;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 4px;
            z-index: 100;
        }

        .nav h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .nav-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-links a {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9em;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-links a:hover::before {
            left: 100%;
        }

        .nav-links a:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .section {
            background: white;
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            position: relative;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #e74c3c, #f39c12);
            transition: width 0.3s ease;
        }

        .section h2:hover::after {
            width: 100%;
        }

        .section h3 {
            color: #555;
            font-size: 1.3em;
            margin: 20px 0 10px 0;
            position: relative;
            padding-left: 20px;
        }

        .section h3::before {
            content: '‚ñ∂';
            position: absolute;
            left: 0;
            color: #667eea;
            transition: transform 0.3s;
        }

        .section h3:hover::before {
            transform: translateX(5px);
        }

        .highlight-box {
            background: linear-gradient(135deg, #e8f4fd, #d1ecf1);
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
        }

        .highlight-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: transform 0.6s;
        }

        .highlight-box:hover::before {
            transform: rotate(45deg) translate(50%, 50%);
        }

        .simple-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .simple-table th,
        .simple-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            transition: all 0.3s;
        }

        .simple-table th {
            background: linear-gradient(135deg, #667eea, #5a67d8);
            color: white;
        }

        .simple-table tr:nth-child(even) {
            background: #f9f9f9;
        }

        .simple-table tr:hover {
            background: #e8f4fd;
            transform: scale(1.01);
        }

        .code-box {
            background: linear-gradient(135deg, #2d3748, #4a5568);
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .code-box::before {
            content: 'üìã ÁÇπÂáªÂ§çÂà∂';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 12px;
            opacity: 0.7;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        .code-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .tip-box {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 5px solid #f39c12;
            position: relative;
            transition: transform 0.3s;
        }

        .tip-box:hover {
            transform: translateX(5px);
        }

        .tip-box::before {
            content: 'üí°';
            position: absolute;
            top: 15px;
            left: -15px;
            background: #f39c12;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .tip-box strong {
            color: #856404;
        }

        /* ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆ */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
        }

        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
                margin-top: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav-links {
                flex-direction: column;
            }

            .nav {
                position: static;
            }

            .search-container {
                position: static;
                margin: 10px;
                justify-content: center;
            }

            .search-input {
                width: 150px;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body>
    <!-- ËøõÂ∫¶Êù° -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- ÊêúÁ¥¢ÂäüËÉΩ -->
    <div class="search-container">
        <input type="text" class="search-input" id="searchInput" placeholder="ÊêúÁ¥¢ÂÜÖÂÆπ...">
        <button class="search-btn" onclick="performSearch()">üîç</button>
        <div class="search-results" id="searchResults"></div>
    </div>

    <div class="container">
        <!-- È°µÈù¢Ê†áÈ¢ò -->
        <div class="header">
            <h1>üìä NoSQLÊï∞ÊçÆÂ∫ìÊñ∞ÊâãÂÖ•Èó®</h1>
            <p>ÁÆÄÂçïÊòìÊáÇÁöÑNoSQLÂ≠¶‰π†ÊåáÂçó</p>
        </div>

        <!-- ÂØºËà™ËèúÂçï -->
        <div class="nav">
            <h3>üìö Â≠¶‰π†ÁõÆÂΩï</h3>
            <div class="nav-links">
                <a href="#what-is-nosql">‰ªÄ‰πàÊòØNoSQL</a>
                <a href="#types">Êï∞ÊçÆÂ∫ìÁ±ªÂûã</a>
                <a href="#redis-basic">RedisÂü∫Á°Ä</a>
                <a href="#redis-python">Redis‰∏éPython</a>
                <a href="#mongodb-basic">MongoDBÂü∫Á°Ä</a>
                <a href="#mongodb-python">MongoDB‰∏éPython</a>
                <a href="#performance">ÊÄßËÉΩ‰ºòÂåñ</a>
                <a href="#security">ÂÆâÂÖ®ÈÖçÁΩÆ</a>
                <a href="#when-to-use">‰ΩïÊó∂‰ΩøÁî®</a>
                <a href="#practice">ÂÆûÊàòÁªÉ‰π†</a>
            </div>
        </div>

        <!-- ‰ªÄ‰πàÊòØNoSQL -->
        <div id="what-is-nosql" class="section">
            <h2>ü§î ‰ªÄ‰πàÊòØNoSQLÔºü</h2>
            
            <div class="highlight-box">
                <strong>ÁÆÄÂçïÁêÜËß£Ôºö</strong>NoSQLÂ∞±ÊòØ"‰∏çÂè™ÊòØSQL"ÁöÑÊÑèÊÄùÔºåÂÆÉÊòØ‰∏ÄÁßçÊñ∞ÂûãÁöÑÊï∞ÊçÆÂ∫ìÔºå‰∏çÂÉè‰º†ÁªüÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈÇ£Ê†∑‰ΩøÁî®Ë°®Ê†ºÊù•Â≠òÂÇ®Êï∞ÊçÆ„ÄÇ
            </div>

            <h3>‰∏∫‰ªÄ‰πàÈúÄË¶ÅNoSQLÔºü</h3>
            <p>ÊÉ≥Ë±°‰∏Ä‰∏ãÔºö</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>üì± <strong>Êï∞ÊçÆÈáèÁàÜÁÇ∏Ôºö</strong>Áé∞Âú®ÊØèÂ§©‰∫ßÁîüÁöÑÊï∞ÊçÆÂ§™Â§ö‰∫ÜÔºàÂæÆ‰ø°ËÅäÂ§©„ÄÅÊäñÈü≥ËßÜÈ¢ë„ÄÅÊ∑òÂÆùË¥≠Áâ©...Ôºâ</li>
                <li>‚ö° <strong>ÈÄüÂ∫¶Ë¶ÅÊ±ÇÔºö</strong>Áî®Êà∑Â∏åÊúõÁßíÂºÄÁΩëÈ°µÔºå‰∏çËÉΩÁ≠âÂ§™‰πÖ</li>
                <li>üîÑ <strong>Êï∞ÊçÆÁ±ªÂûãÂ§öÊ†∑Ôºö</strong>‰∏çÂè™ÊòØÊï∞Â≠óÂíåÊñáÂ≠óÔºåËøòÊúâÂõæÁâá„ÄÅËßÜÈ¢ë„ÄÅÂú∞ÁêÜ‰ΩçÁΩÆÁ≠â</li>
            </ul>

            <div class="tip-box">
                <strong>üí° Â∞èË¥¥Â£´Ôºö</strong>Â∞±ÂÉè‰º†ÁªüÁöÑÊñá‰ª∂ÊüúÔºàÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºâËôΩÁÑ∂Êï¥ÈΩêÔºå‰ΩÜÊâæ‰∏úË•øÊÖ¢„ÄÇËÄåNoSQLÂ∞±ÂÉèÊòØ‰∏Ä‰∏™Êô∫ËÉΩ‰ªìÂ∫ìÔºåËÉΩÂø´ÈÄüÊâæÂà∞‰Ω†Ë¶ÅÁöÑ‰ªª‰Ωï‰∏úË•øÔºÅ
            </div>
        </div>

        <!-- Êï∞ÊçÆÂ∫ìÁ±ªÂûã -->
        <div id="types" class="section">
            <h2>üìã NoSQLÊï∞ÊçÆÂ∫ìÁöÑ‰∏ªË¶ÅÁ±ªÂûã</h2>
            
            <p>NoSQLÊï∞ÊçÆÂ∫ì‰∏ªË¶ÅÂàÜ‰∏∫4ÁßçÁ±ªÂûãÔºåÊØèÁßçÈÉΩÊúâËá™Â∑±ÁöÑÁâπÁÇπÔºö</p>

            <table class="simple-table">
                <thead>
                    <tr>
                        <th>Á±ªÂûã</th>
                        <th>‰ª£Ë°®‰∫ßÂìÅ</th>
                        <th>ÁÆÄÂçïÁêÜËß£</th>
                        <th>ÈÄÇÂêàÂú∫ÊôØ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ÈîÆÂÄºÊï∞ÊçÆÂ∫ì</strong></td>
                        <td>Redis</td>
                        <td>ÂÉèÂ≠óÂÖ∏‰∏ÄÊ†∑Ôºå‰∏Ä‰∏™Èí•ÂåôÂØπÂ∫î‰∏Ä‰∏™ÂÄº</td>
                        <td>ÁºìÂ≠ò„ÄÅ‰ºöËØùÂ≠òÂÇ®</td>
                    </tr>
                    <tr>
                        <td><strong>ÊñáÊ°£Êï∞ÊçÆÂ∫ì</strong></td>
                        <td>MongoDB</td>
                        <td>Â≠òÂÇ®ÂÉèJSONÊ†ºÂºèÁöÑÊñáÊ°£</td>
                        <td>ÂÜÖÂÆπÁÆ°ÁêÜ„ÄÅÁî®Êà∑ËµÑÊñô</td>
                    </tr>
                    <tr>
                        <td><strong>ÂàóÊóèÊï∞ÊçÆÂ∫ì</strong></td>
                        <td>Cassandra</td>
                        <td>ÊåâÂàóÂ≠òÂÇ®ÔºåÈÄÇÂêàÂ§ßÊï∞ÊçÆ</td>
                        <td>Êó•ÂøóÂàÜÊûê„ÄÅÊó∂Èó¥Â∫èÂàó</td>
                    </tr>
                    <tr>
                        <td><strong>ÂõæÊï∞ÊçÆÂ∫ì</strong></td>
                        <td>Neo4j</td>
                        <td>Â≠òÂÇ®ÂÖ≥Á≥ªÁΩëÁªúÔºåÂÉèÁ§æ‰∫§ÁΩëÁªú</td>
                        <td>Á§æ‰∫§Êé®Ëçê„ÄÅÁü•ËØÜÂõæË∞±</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- RedisÂü∫Á°Ä -->
        <div id="redis-basic" class="section">
            <h2>üî¥ RedisÂÖ•Èó®</h2>
            
            <div class="highlight-box">
                <strong>RedisÊòØ‰ªÄ‰πàÔºü</strong>RedisÊòØ‰∏Ä‰∏™Ë∂ÖÂø´ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÔºå‰∏ªË¶ÅÁî®Êù•ÂÅöÁºìÂ≠òÔºåËÆ©ÁΩëÁ´ôËÆøÈóÆÊõ¥Âø´„ÄÇ
            </div>

            <h3>RedisÁöÑÁâπÁÇπ</h3>
            <ul style="margin-left: 20px;">
                <li>‚ö° <strong>Ë∂ÖÁ∫ßÂø´Ôºö</strong>Êï∞ÊçÆÂ≠òÂú®ÂÜÖÂ≠òÈáåÔºåËØªÂÜôÈÄüÂ∫¶ÊûÅÂø´</li>
                <li>üéØ <strong>Â§öÁßçÊï∞ÊçÆÁ±ªÂûãÔºö</strong>‰∏çÂè™ÊòØÁÆÄÂçïÁöÑÊñáÊú¨ÔºåËøòÊîØÊåÅÂàóË°®„ÄÅÈõÜÂêàÁ≠â</li>
                <li>üíæ <strong>ÂèØ‰ª•ÊåÅ‰πÖÂåñÔºö</strong>ËôΩÁÑ∂Âú®ÂÜÖÂ≠òÈáåÔºå‰ΩÜÂèØ‰ª•‰øùÂ≠òÂà∞Á°¨Áõò</li>
            </ul>

            <h3>ÁÆÄÂçïÁöÑRedisÂëΩ‰ª§</h3>
            <div class="code-box">
# ËÆæÁΩÆ‰∏Ä‰∏™ÈîÆÂÄºÂØπ<br>
SET name "Â∞èÊòé"<br>
<br>
# Ëé∑ÂèñÂÄº<br>
GET name<br>
# ËøîÂõûÔºö"Â∞èÊòé"<br>
<br>
# ËÆæÁΩÆËøáÊúüÊó∂Èó¥Ôºà10ÁßíÂêéËá™Âä®Âà†Èô§Ôºâ<br>
SETEX temp_data 10 "‰∏¥Êó∂Êï∞ÊçÆ"<br>
<br>
# Êìç‰ΩúÂàóË°®<br>
# ÂêëÂàóË°®Â∑¶‰æßÊ∑ªÂä†ÂÖÉÁ¥†<br>
LPUSH shopping_list "ËãπÊûú"<br>
LPUSH shopping_list "È¶ôËïâ"<br>
<br>
# Ëé∑ÂèñÂàóË°®‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†<br>
LRANGE shopping_list 0 -1<br>
# ËøîÂõûÔºö["È¶ôËïâ", "ËãπÊûú"]<br>
            </div>

            <div class="tip-box">
                <strong>üí° ÂÆûÈôÖÂ∫îÁî®Ôºö</strong>ÊØîÂ¶Ç‰Ω†ÁôªÂΩïÁΩëÁ´ôÂêéÔºåÁΩëÁ´ô‰ºöÊää‰Ω†ÁöÑÁôªÂΩïÁä∂ÊÄÅÂ≠òÂú®RedisÈáåÔºåËøôÊ†∑‰∏ãÊ¨°ËÆøÈóÆÂ∞±‰∏çÁî®ÈáçÊñ∞ÁôªÂΩï‰∫ÜÔºÅ
            </div>
        </div>

        <!-- Redis‰∏éPython -->
        <div id="redis-python" class="section">
            <h2>üêç Redis‰∏éPythonÂÆûÊàò</h2>
            
            <div class="highlight-box">
                <strong>PythonÊìç‰ΩúRedisÔºö</strong>‰ΩøÁî®redis-pyÂ∫ìÂèØ‰ª•ËΩªÊùæÂú®Python‰∏≠Êìç‰ΩúRedisÊï∞ÊçÆÂ∫ì„ÄÇ
            </div>

            <h3>ÂÆâË£ÖRedisÂíåPythonÂ∫ì</h3>
            <div class="code-box">
# ÂÆâË£ÖRedisÔºàWindowsÔºâ<br>
# ‰∏ãËΩΩRedis for WindowsÊàñ‰ΩøÁî®Docker<br>
docker run -d -p 6379:6379 redis:latest<br>
<br>
# ÂÆâË£ÖPython RedisÂ∫ì<br>
pip install redis<br>
            </div>

            <h3>PythonËøûÊé•Redis</h3>
            <div class="code-box">
import redis<br>
<br>
# ËøûÊé•Redis<br>
r = redis.Redis(host='localhost', port=6379, db=0, decode_responses=True)<br>
<br>
# ÊµãËØïËøûÊé•<br>
try:<br>
    r.ping()<br>
    print("RedisËøûÊé•ÊàêÂäüÔºÅ")<br>
except:<br>
    print("RedisËøûÊé•Â§±Ë¥•ÔºÅ")<br>
            </div>

            <h3>Âü∫Êú¨Êìç‰ΩúÁ§∫‰æã</h3>
            <div class="code-box">
# Â≠óÁ¨¶‰∏≤Êìç‰Ωú<br>
r.set('user:1001:name', 'Âº†‰∏â')<br>
r.set('user:1001:age', 25)<br>
name = r.get('user:1001:name')<br>
print(f"Áî®Êà∑ÂßìÂêçÔºö{name}")<br>
<br>
# ËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºàÁßíÔºâ<br>
r.setex('verification_code', 300, '123456')  # 5ÂàÜÈíüÂêéËøáÊúü<br>
<br>
# ÂàóË°®Êìç‰Ωú<br>
r.lpush('task_queue', 'task1', 'task2', 'task3')<br>
task = r.rpop('task_queue')  # ‰ªéÂè≥ËæπÂèñÂá∫‰ªªÂä°<br>
print(f"Â§ÑÁêÜ‰ªªÂä°Ôºö{task}")<br>
<br>
# ÂìàÂ∏åÊìç‰Ωú<br>
r.hset('user:1001', mapping={<br>
    'name': 'Âº†‰∏â',<br>
    'age': 25,<br>
    'email': 'zhangsan@example.com'<br>
})<br>
user_info = r.hgetall('user:1001')<br>
print(f"Áî®Êà∑‰ø°ÊÅØÔºö{user_info}")<br>
<br>
# ÈõÜÂêàÊìç‰Ωú<br>
r.sadd('online_users', 'user1', 'user2', 'user3')<br>
online_count = r.scard('online_users')<br>
print(f"Âú®Á∫øÁî®Êà∑Êï∞Ôºö{online_count}")<br>
            </div>

            <h3>ÂÆûÁî®Âú∫ÊôØÔºöÁºìÂ≠òÁ≥ªÁªü</h3>
            <div class="code-box">
import json<br>
import time<br>
<br>
class RedisCache:<br>
    def __init__(self):<br>
        self.redis_client = redis.Redis(host='localhost', port=6379, db=0)<br>
    <br>
    def get_user_info(self, user_id):<br>
        # ÂÖà‰ªéÁºìÂ≠òËé∑Âèñ<br>
        cache_key = f"user:{user_id}"<br>
        cached_data = self.redis_client.get(cache_key)<br>
        <br>
        if cached_data:<br>
            print("‰ªéÁºìÂ≠òËé∑ÂèñÊï∞ÊçÆ")<br>
            return json.loads(cached_data)<br>
        <br>
        # ÁºìÂ≠òÊú™ÂëΩ‰∏≠Ôºå‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÔºàÊ®°ÊãüÔºâ<br>
        print("‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊï∞ÊçÆ")<br>
        user_data = {<br>
            'id': user_id,<br>
            'name': f'Áî®Êà∑{user_id}',<br>
            'email': f'user{user_id}@example.com'<br>
        }<br>
        <br>
        # Â≠òÂÖ•ÁºìÂ≠òÔºåËøáÊúüÊó∂Èó¥1Â∞èÊó∂<br>
        self.redis_client.setex(<br>
            cache_key, <br>
            3600, <br>
            json.dumps(user_data, ensure_ascii=False)<br>
        )<br>
        <br>
        return user_data<br>
<br>
# ‰ΩøÁî®Á§∫‰æã<br>
cache = RedisCache()<br>
user = cache.get_user_info(1001)<br>
print(user)<br>
            </div>

            <div class="tip-box">
                <strong>üí° ÊÄßËÉΩÊèêÂçáÔºö</strong>‰ΩøÁî®RedisÁºìÂ≠òÂèØ‰ª•Â∞ÜÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÈÄüÂ∫¶ÊèêÂçá10-100ÂÄçÔºÅÁâπÂà´ÈÄÇÂêàÈ¢ëÁπÅÊü•ËØ¢ÁöÑÊï∞ÊçÆ„ÄÇ
            </div>
        </div>

        <!-- MongoDBÂü∫Á°Ä -->
        <div id="mongodb-basic" class="section">
            <h2>üçÉ MongoDBÂÖ•Èó®</h2>
            
            <div class="highlight-box">
                <strong>MongoDBÊòØ‰ªÄ‰πàÔºü</strong>MongoDBÊòØ‰∏Ä‰∏™ÊñáÊ°£Êï∞ÊçÆÂ∫ìÔºåÊï∞ÊçÆ‰ª•Á±ª‰ººJSONÁöÑÊ†ºÂºèÂ≠òÂÇ®ÔºåÈùûÂ∏∏ÁÅµÊ¥ª„ÄÇ
            </div>

            <h3>MongoDBÁöÑÁâπÁÇπ</h3>
            <ul style="margin-left: 20px;">
                <li>üìÑ <strong>ÊñáÊ°£Â≠òÂÇ®Ôºö</strong>Êï∞ÊçÆÂÉèÊñáÊ°£‰∏ÄÊ†∑Â≠òÂÇ®ÔºåÁªìÊûÑÁÅµÊ¥ª</li>
                <li>üîç <strong>Êü•ËØ¢Âº∫Â§ßÔºö</strong>ÂèØ‰ª•ËøõË°åÂ§çÊùÇÁöÑÊü•ËØ¢Êìç‰Ωú</li>
                <li>üìà <strong>ÊòìÊâ©Â±ïÔºö</strong>ÂèØ‰ª•ËΩªÊùæÂ§ÑÁêÜÂ§ßÈáèÊï∞ÊçÆ</li>
            </ul>

            <h3>MongoDBÂü∫Êú¨Ê¶ÇÂøµÂØπÊØî</h3>
            <table class="simple-table">
                <thead>
                    <tr>
                        <th>‰º†ÁªüÊï∞ÊçÆÂ∫ì</th>
                        <th>MongoDB</th>
                        <th>ËØ¥Êòé</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Êï∞ÊçÆÂ∫ì</td>
                        <td>Êï∞ÊçÆÂ∫ì</td>
                        <td>Â≠òÂÇ®Êï∞ÊçÆÁöÑÂÆπÂô®</td>
                    </tr>
                    <tr>
                        <td>Ë°®</td>
                        <td>ÈõÜÂêà(Collection)</td>
                        <td>Â≠òÂÇ®ÊñáÊ°£ÁöÑÂú∞Êñπ</td>
                    </tr>
                    <tr>
                        <td>Ë°å</td>
                        <td>ÊñáÊ°£(Document)</td>
                        <td>‰∏ÄÊù°Êï∞ÊçÆËÆ∞ÂΩï</td>
                    </tr>
                    <tr>
                        <td>Âàó</td>
                        <td>Â≠óÊÆµ(Field)</td>
                        <td>Êï∞ÊçÆÁöÑÂ±ûÊÄß</td>
                    </tr>
                </tbody>
            </table>

            <h3>ÁÆÄÂçïÁöÑMongoDBÊìç‰Ωú</h3>
            <div class="code-box">
// ÊèíÂÖ•‰∏Ä‰∏™Áî®Êà∑ÊñáÊ°£<br>
db.users.insertOne({<br>
    name: "Âº†‰∏â",<br>
    age: 25,<br>
    email: "zhangsan@example.com",<br>
    hobbies: ["ËØª‰π¶", "Ê∏∏Ê≥≥", "ÁºñÁ®ã"]<br>
})<br>
<br>
// Êü•ÊâæÁî®Êà∑<br>
db.users.find({name: "Âº†‰∏â"})<br>
<br>
// Êõ¥Êñ∞Áî®Êà∑Âπ¥ÈæÑ<br>
db.users.updateOne(<br>
    {name: "Âº†‰∏â"},<br>
    {$set: {age: 26}}<br>
)<br>
<br>
// Âà†Èô§Áî®Êà∑<br>
db.users.deleteOne({name: "Âº†‰∏â"})<br>
            </div>

            <div class="tip-box">
                <strong>üí° ÂÆûÈôÖÂ∫îÁî®Ôºö</strong>ÂæàÂ§öÁΩëÁ´ôÁöÑÁî®Êà∑ËµÑÊñô„ÄÅÂïÜÂìÅ‰ø°ÊÅØ„ÄÅÊñáÁ´†ÂÜÖÂÆπÈÉΩÂ≠òÂÇ®Âú®MongoDB‰∏≠ÔºåÂõ†‰∏∫Ëøô‰∫õÊï∞ÊçÆÁªìÊûÑÊØîËæÉÁÅµÊ¥ªÔºÅ
            </div>
        </div>

        <!-- MongoDB‰∏éPython -->
        <div id="mongodb-python" class="section">
            <h2>üêç MongoDB‰∏éPythonÂÆûÊàò</h2>
            
            <div class="highlight-box">
                <strong>PythonÊìç‰ΩúMongoDBÔºö</strong>‰ΩøÁî®pymongoÂ∫ìÂèØ‰ª•ËΩªÊùæÂú®Python‰∏≠Êìç‰ΩúMongoDBÊï∞ÊçÆÂ∫ì„ÄÇ
            </div>

            <h3>ÂÆâË£ÖMongoDBÂíåPythonÂ∫ì</h3>
            <div class="code-box">
# ÂÆâË£ÖMongoDBÔºàÊé®Ëçê‰ΩøÁî®DockerÔºâ<br>
docker run -d -p 27017:27017 --name mongodb mongo:latest<br>
<br>
# ÂÆâË£ÖPython MongoDBÂ∫ì<br>
pip install pymongo<br>
            </div>

            <h3>PythonËøûÊé•MongoDB</h3>
            <div class="code-box">
from pymongo import MongoClient<br>
from datetime import datetime<br>
import json<br>
<br>
# ËøûÊé•MongoDB<br>
client = MongoClient('mongodb://localhost:27017/')<br>
db = client['myapp']  # ÈÄâÊã©Êï∞ÊçÆÂ∫ì<br>
collection = db['users']  # ÈÄâÊã©ÈõÜÂêà<br>
<br>
# ÊµãËØïËøûÊé•<br>
try:<br>
    client.admin.command('ping')<br>
    print("MongoDBËøûÊé•ÊàêÂäüÔºÅ")<br>
except Exception as e:<br>
    print(f"MongoDBËøûÊé•Â§±Ë¥•Ôºö{e}")<br>
            </div>

            <h3>Âü∫Êú¨CRUDÊìç‰Ωú</h3>
            <div class="code-box">
# ÊèíÂÖ•Âçï‰∏™ÊñáÊ°£<br>
user = {<br>
    'name': 'Âº†‰∏â',<br>
    'age': 25,<br>
    'email': 'zhangsan@example.com',<br>
    'hobbies': ['ËØª‰π¶', 'Ê∏∏Ê≥≥', 'ÁºñÁ®ã'],<br>
    'created_at': datetime.now()<br>
}<br>
result = collection.insert_one(user)<br>
print(f"ÊèíÂÖ•ÊàêÂäüÔºåIDÔºö{result.inserted_id}")<br>
<br>
# ÊèíÂÖ•Â§ö‰∏™ÊñáÊ°£<br>
users = [<br>
    {'name': 'ÊùéÂõõ', 'age': 30, 'city': 'Âåó‰∫¨'},<br>
    {'name': 'Áéã‰∫î', 'age': 28, 'city': '‰∏äÊµ∑'},<br>
    {'name': 'ËµµÂÖ≠', 'age': 35, 'city': 'ÂπøÂ∑û'}<br>
]<br>
result = collection.insert_many(users)<br>
print(f"ÊâπÈáèÊèíÂÖ•ÊàêÂäüÔºåÊï∞ÈáèÔºö{len(result.inserted_ids)}")<br>
<br>
# Êü•ËØ¢ÊñáÊ°£<br>
# Êü•ËØ¢Âçï‰∏™<br>
user = collection.find_one({'name': 'Âº†‰∏â'})<br>
print(f"Êü•ËØ¢ÁªìÊûúÔºö{user}")<br>
<br>
# Êü•ËØ¢Â§ö‰∏™<br>
users = collection.find({'age': {'$gte': 25}})  # Âπ¥ÈæÑ>=25<br>
for user in users:<br>
    print(f"Áî®Êà∑Ôºö{user['name']}, Âπ¥ÈæÑÔºö{user['age']}")<br>
<br>
# Êõ¥Êñ∞ÊñáÊ°£<br>
result = collection.update_one(<br>
    {'name': 'Âº†‰∏â'},<br>
    {'$set': {'age': 26, 'city': 'Ê∑±Âú≥'}}<br>
)<br>
print(f"Êõ¥Êñ∞ÊàêÂäüÔºåÂΩ±ÂìçË°åÊï∞Ôºö{result.modified_count}")<br>
<br>
# Âà†Èô§ÊñáÊ°£<br>
result = collection.delete_one({'name': 'Âº†‰∏â'})<br>
print(f"Âà†Èô§ÊàêÂäüÔºåÂΩ±ÂìçË°åÊï∞Ôºö{result.deleted_count}")<br>
            </div>

            <h3>È´òÁ∫ßÊü•ËØ¢Á§∫‰æã</h3>
            <div class="code-box">
# Â§çÊùÇÊü•ËØ¢<br>
query = {<br>
    'age': {'$gte': 25, '$lte': 35},  # Âπ¥ÈæÑÂú®25-35‰πãÈó¥<br>
    'city': {'$in': ['Âåó‰∫¨', '‰∏äÊµ∑']}   # ÂüéÂ∏ÇÂú®Âåó‰∫¨Êàñ‰∏äÊµ∑<br>
}<br>
users = collection.find(query)<br>
<br>
# ÊéíÂ∫èÂíåÈôêÂà∂<br>
users = collection.find().sort('age', -1).limit(5)  # ÊåâÂπ¥ÈæÑÈôçÂ∫èÔºåÂèñÂâç5‰∏™<br>
<br>
# ÊäïÂΩ±ÔºàÂè™ËøîÂõûÊåáÂÆöÂ≠óÊÆµÔºâ<br>
users = collection.find({}, {'name': 1, 'age': 1, '_id': 0})<br>
<br>
# ËÅöÂêàÊü•ËØ¢<br>
pipeline = [<br>
    {'$match': {'age': {'$gte': 25}}},  # Á≠õÈÄâ<br>
    {'$group': {<br>
        '_id': '$city',<br>
        'count': {'$sum': 1},<br>
        'avg_age': {'$avg': '$age'}<br>
    }},  # ÂàÜÁªÑÁªüËÆ°<br>
    {'$sort': {'count': -1}}  # ÊéíÂ∫è<br>
]<br>
result = collection.aggregate(pipeline)<br>
for doc in result:<br>
    print(f"ÂüéÂ∏ÇÔºö{doc['_id']}, ‰∫∫Êï∞Ôºö{doc['count']}, Âπ≥ÂùáÂπ¥ÈæÑÔºö{doc['avg_age']:.1f}")<br>
            </div>

            <h3>ÂÆûÁî®Âú∫ÊôØÔºöÂçöÂÆ¢Á≥ªÁªü</h3>
            <div class="code-box">
class BlogManager:<br>
    def __init__(self):<br>
        self.client = MongoClient('mongodb://localhost:27017/')<br>
        self.db = self.client['blog']<br>
        self.posts = self.db['posts']<br>
        self.comments = self.db['comments']<br>
    <br>
    def create_post(self, title, content, author):<br>
        post = {<br>
            'title': title,<br>
            'content': content,<br>
            'author': author,<br>
            'created_at': datetime.now(),<br>
            'views': 0,<br>
            'likes': 0,<br>
            'tags': []<br>
        }<br>
        result = self.posts.insert_one(post)<br>
        return result.inserted_id<br>
    <br>
    def get_posts(self, page=1, per_page=10):<br>
        skip = (page - 1) * per_page<br>
        posts = self.posts.find().sort('created_at', -1).skip(skip).limit(per_page)<br>
        return list(posts)<br>
    <br>
    def add_comment(self, post_id, content, author):<br>
        comment = {<br>
            'post_id': post_id,<br>
            'content': content,<br>
            'author': author,<br>
            'created_at': datetime.now()<br>
        }<br>
        return self.comments.insert_one(comment).inserted_id<br>
    <br>
    def get_post_with_comments(self, post_id):<br>
        # ‰ΩøÁî®ËÅöÂêàÊü•ËØ¢ÂÖ≥ËÅîÊñáÁ´†ÂíåËØÑËÆ∫<br>
        pipeline = [<br>
            {'$match': {'_id': post_id}},<br>
            {'$lookup': {<br>
                'from': 'comments',<br>
                'localField': '_id',<br>
                'foreignField': 'post_id',<br>
                'as': 'comments'<br>
            }}<br>
        ]<br>
        result = list(self.posts.aggregate(pipeline))<br>
        return result[0] if result else None<br>
<br>
# ‰ΩøÁî®Á§∫‰æã<br>
blog = BlogManager()<br>
post_id = blog.create_post('NoSQLÂ≠¶‰π†ÂøÉÂæó', '‰ªäÂ§©Â≠¶‰π†‰∫ÜMongoDB...', 'Âº†‰∏â')<br>
blog.add_comment(post_id, 'ÂÜôÂæóÂæàÂ•ΩÔºÅ', 'ÊùéÂõõ')<br>
post_with_comments = blog.get_post_with_comments(post_id)<br>
print(f"ÊñáÁ´†Ôºö{post_with_comments['title']}")<br>
print(f"ËØÑËÆ∫Êï∞Ôºö{len(post_with_comments['comments'])}")<br>
            </div>

            <div class="tip-box">
                <strong>üí° ÁÅµÊ¥ªÊÄß‰ºòÂäøÔºö</strong>MongoDBÁöÑÊñáÊ°£ÁªìÊûÑÈùûÂ∏∏ÈÄÇÂêàÂ≠òÂÇ®Â§çÊùÇÁöÑÂµåÂ•óÊï∞ÊçÆÔºåÊØîÂ¶ÇÁî®Êà∑ËµÑÊñô„ÄÅÂïÜÂìÅ‰ø°ÊÅØ„ÄÅÊñáÁ´†ÂÜÖÂÆπÁ≠â„ÄÇ
            </div>
        </div>

        <!-- ÊÄßËÉΩ‰ºòÂåñ -->
        <div id="performance" class="section">
            <h2>‚ö° NoSQLÊÄßËÉΩ‰ºòÂåñ</h2>
            
            <div class="highlight-box">
                <strong>ÊÄßËÉΩ‰ºòÂåñÔºö</strong>ÂêàÁêÜÁöÑÈÖçÁΩÆÂíå‰ΩøÁî®ÊñπÂºèÂèØ‰ª•Â§ßÂπÖÊèêÂçáNoSQLÊï∞ÊçÆÂ∫ìÁöÑÊÄßËÉΩ„ÄÇ
            </div>

            <h3>RedisÊÄßËÉΩ‰ºòÂåñ</h3>
            <div class="code-box">
# RedisÈÖçÁΩÆ‰ºòÂåñ<br>
# redis.conf ÂÖ≥ÈîÆÈÖçÁΩÆÈ°π<br>
<br>
# ÂÜÖÂ≠ò‰ºòÂåñ<br>
maxmemory 2gb<br>
maxmemory-policy allkeys-lru  # ÂÜÖÂ≠òÊª°Êó∂Âà†Èô§ÊúÄÂ∞ë‰ΩøÁî®ÁöÑkey<br>
<br>
# ÊåÅ‰πÖÂåñ‰ºòÂåñ<br>
save 900 1      # 900ÁßíÂÜÖËá≥Â∞ë1‰∏™keyÂèòÂåñÊó∂‰øùÂ≠ò<br>
save 300 10     # 300ÁßíÂÜÖËá≥Â∞ë10‰∏™keyÂèòÂåñÊó∂‰øùÂ≠ò<br>
save 60 10000   # 60ÁßíÂÜÖËá≥Â∞ë10000‰∏™keyÂèòÂåñÊó∂‰øùÂ≠ò<br>
<br>
# ÁΩëÁªú‰ºòÂåñ<br>
tcp-keepalive 300<br>
timeout 0<br>
<br>
# ÂÆ¢Êà∑Á´ØËøûÊé•‰ºòÂåñ<br>
maxclients 10000<br>
            </div>

            <h3>Redis‰ΩøÁî®ÊúÄ‰Ω≥ÂÆûË∑µ</h3>
            <div class="code-box">
# 1. ‰ΩøÁî®ËøûÊé•Ê±†<br>
import redis<br>
from redis import ConnectionPool<br>
<br>
# ÂàõÂª∫ËøûÊé•Ê±†<br>
pool = ConnectionPool(host='localhost', port=6379, max_connections=20)<br>
r = redis.Redis(connection_pool=pool)<br>
<br>
# 2. ÊâπÈáèÊìç‰Ωú<br>
# ‰ΩøÁî®pipelineÂáèÂ∞ëÁΩëÁªúÂæÄËøî<br>
pipe = r.pipeline()<br>
pipe.set('key1', 'value1')<br>
pipe.set('key2', 'value2')<br>
pipe.set('key3', 'value3')<br>
results = pipe.execute()<br>
<br>
# 3. ÂêàÁêÜËÆæÁΩÆËøáÊúüÊó∂Èó¥<br>
r.setex('session:user123', 3600, 'session_data')  # 1Â∞èÊó∂ËøáÊúü<br>
<br>
# 4. ‰ΩøÁî®ÂêàÈÄÇÁöÑÊï∞ÊçÆÁªìÊûÑ<br>
# Â≠òÂÇ®ËÆ°Êï∞Âô®Áî®Â≠óÁ¨¶‰∏≤<br>
r.incr('page_views')<br>
<br>
# Â≠òÂÇ®ÂàóË°®Áî®list<br>
r.lpush('recent_posts', 'post1', 'post2')<br>
<br>
# Â≠òÂÇ®Áî®Êà∑‰ø°ÊÅØÁî®hash<br>
r.hset('user:123', mapping={'name': 'Âº†‰∏â', 'age': 25})<br>
            </div>

            <h3>MongoDBÊÄßËÉΩ‰ºòÂåñ</h3>
            <div class="code-box">
# MongoDBÁ¥¢Âºï‰ºòÂåñ<br>
from pymongo import MongoClient, ASCENDING, DESCENDING<br>
<br>
client = MongoClient('mongodb://localhost:27017/')<br>
db = client['myapp']<br>
collection = db['users']<br>
<br>
# ÂàõÂª∫ÂçïÂ≠óÊÆµÁ¥¢Âºï<br>
collection.create_index('email')  # ÈÇÆÁÆ±Á¥¢Âºï<br>
collection.create_index('age')    # Âπ¥ÈæÑÁ¥¢Âºï<br>
<br>
# ÂàõÂª∫Â§çÂêàÁ¥¢Âºï<br>
collection.create_index([<br>
    ('city', ASCENDING),<br>
    ('age', DESCENDING)<br>
])<br>
<br>
# ÂàõÂª∫ÊñáÊú¨Á¥¢ÂºïÔºàÁî®‰∫éÂÖ®ÊñáÊêúÁ¥¢Ôºâ<br>
collection.create_index([('title', 'text'), ('content', 'text')])<br>
<br>
# Êü•ÁúãÁ¥¢Âºï<br>
for index in collection.list_indexes():<br>
    print(index)<br>
<br>
# Êü•ËØ¢ÊÄßËÉΩÂàÜÊûê<br>
result = collection.find({'age': {'$gte': 25}}).explain()<br>
print(f"Êü•ËØ¢ÊâßË°åÊó∂Èó¥Ôºö{result['executionStats']['executionTimeMillis']}ms")<br>
            </div>

            <h3>MongoDBÊü•ËØ¢‰ºòÂåñ</h3>
            <div class="code-box">
# 1. ‰ΩøÁî®ÊäïÂΩ±ÂáèÂ∞ëÊï∞ÊçÆ‰º†Ëæì<br>
users = collection.find(<br>
    {'age': {'$gte': 25}},<br>
    {'name': 1, 'email': 1, '_id': 0}  # Âè™ËøîÂõûnameÂíåemail<br>
)<br>
<br>
# 2. ‰ΩøÁî®limitÈôêÂà∂ÁªìÊûúÊï∞Èáè<br>
users = collection.find({'city': 'Âåó‰∫¨'}).limit(10)<br>
<br>
# 3. ‰ΩøÁî®ËÅöÂêàÁÆ°ÈÅì‰ºòÂåñÂ§çÊùÇÊü•ËØ¢<br>
pipeline = [<br>
    {'$match': {'age': {'$gte': 18}}},  # ÂÖàËøáÊª§<br>
    {'$group': {<br>
        '_id': '$city',<br>
        'count': {'$sum': 1}<br>
    }},<br>
    {'$sort': {'count': -1}},<br>
    {'$limit': 5}<br>
]<br>
result = collection.aggregate(pipeline)<br>
<br>
# 4. ÊâπÈáèÊìç‰Ωú<br>
from pymongo import InsertOne, UpdateOne, DeleteOne<br>
<br>
operations = [<br>
    InsertOne({'name': 'Áî®Êà∑1', 'age': 25}),<br>
    UpdateOne({'name': 'Âº†‰∏â'}, {'$set': {'age': 26}}),<br>
    DeleteOne({'name': 'ÊùéÂõõ'})<br>
]<br>
result = collection.bulk_write(operations)<br>
            </div>

            <div class="tip-box">
                <strong>üí° ÊÄßËÉΩÁõëÊéßÔºö</strong>ÂÆöÊúüÁõëÊéßÊï∞ÊçÆÂ∫ìÊÄßËÉΩÊåáÊ†áÔºåÂ¶ÇÂìçÂ∫îÊó∂Èó¥„ÄÅÂÜÖÂ≠ò‰ΩøÁî®Áéá„ÄÅËøûÊé•Êï∞Á≠âÔºåÂèäÊó∂ÂèëÁé∞ÂíåËß£ÂÜ≥ÊÄßËÉΩÈóÆÈ¢ò„ÄÇ
            </div>
        </div>

        <!-- ÂÆâÂÖ®ÈÖçÁΩÆ -->
        <div id="security" class="section">
            <h2>üîí NoSQLÂÆâÂÖ®ÈÖçÁΩÆ</h2>
            
            <div class="highlight-box">
                <strong>ÂÆâÂÖ®ÈáçË¶ÅÊÄßÔºö</strong>NoSQLÊï∞ÊçÆÂ∫ìÁöÑÂÆâÂÖ®ÈÖçÁΩÆÂØπ‰∫é‰øùÊä§Êï∞ÊçÆÂíåÁ≥ªÁªüÂÆâÂÖ®Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇ
            </div>

            <h3>RedisÂÆâÂÖ®ÈÖçÁΩÆ</h3>
            <div class="code-box">
# RedisÂÆâÂÖ®ÈÖçÁΩÆ (redis.conf)

# 1. ËÆæÁΩÆÂØÜÁ†Å
requirepass your_strong_password_here

# 2. ÁªëÂÆöIPÂú∞ÂùÄ
bind 127.0.0.1 192.168.1.100  # Âè™ÂÖÅËÆ∏ÊåáÂÆöIPËÆøÈóÆ

# 3. ‰øÆÊîπÈªòËÆ§Á´ØÂè£
port 6380  # ‰∏ç‰ΩøÁî®ÈªòËÆ§ÁöÑ6379Á´ØÂè£

# 4. Á¶ÅÁî®Âç±Èô©ÂëΩ‰ª§
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command KEYS ""
rename-command CONFIG "CONFIG_9a8b7c6d"

# 5. ÂêØÁî®‰øùÊä§Ê®°Âºè
protected-mode yes
            </div>

            <h3>Redis PythonÂÆâÂÖ®ËøûÊé•</h3>
            <div class="code-box">
import redis
import ssl

# ‰ΩøÁî®ÂØÜÁ†ÅËøûÊé•
r = redis.Redis(
    host='localhost',
    port=6380,
    password='your_strong_password_here',
    decode_responses=True
)

# SSL/TLSËøûÊé•ÔºàÁîü‰∫ßÁéØÂ¢ÉÊé®ËçêÔºâ
r = redis.Redis(
    host='your-redis-server.com',
    port=6380,
    password='your_password',
    ssl=True,
    ssl_cert_reqs=ssl.CERT_REQUIRED,
    ssl_ca_certs='/path/to/ca.crt',
    ssl_certfile='/path/to/client.crt',
    ssl_keyfile='/path/to/client.key'
)

# ËøûÊé•Ê±†ÂÆâÂÖ®ÈÖçÁΩÆ
pool = redis.ConnectionPool(
    host='localhost',
    port=6380,
    password='your_password',
    max_connections=20,
    socket_timeout=5,
    socket_connect_timeout=5
)
r = redis.Redis(connection_pool=pool)
            </div>

            <h3>MongoDBÂÆâÂÖ®ÈÖçÁΩÆ</h3>
            <div class="code-box">
# MongoDBÂÆâÂÖ®ÈÖçÁΩÆ

# 1. ÂêØÁî®ËÆ§ËØÅ
# mongod.conf
security:
  authorization: enabled

# 2. ÂàõÂª∫ÁÆ°ÁêÜÂëòÁî®Êà∑
use admin
db.createUser({
  user: "admin",
  pwd: "strong_password_here",
  roles: ["userAdminAnyDatabase", "dbAdminAnyDatabase", "readWriteAnyDatabase"]
})

# 3. ÂàõÂª∫Â∫îÁî®Áî®Êà∑
use myapp
db.createUser({
  user: "appuser",
  pwd: "app_password_here",
  roles: ["readWrite"]
})

# 4. ÁΩëÁªúÂÆâÂÖ®ÈÖçÁΩÆ
net:
  bindIp: 127.0.0.1,192.168.1.100  # ÁªëÂÆöÁâπÂÆöIP
  port: 27018  # ‰øÆÊîπÈªòËÆ§Á´ØÂè£
  ssl:
    mode: requireSSL
    PEMKeyFile: /path/to/mongodb.pem
            </div>

            <h3>MongoDB PythonÂÆâÂÖ®ËøûÊé•</h3>
            <div class="code-box">
from pymongo import MongoClient
import ssl

# ‰ΩøÁî®ËÆ§ËØÅËøûÊé•
client = MongoClient(
    'mongodb://appuser:app_password_here@localhost:27018/myapp'
)

# ÊàñËÄÖÂàÜÂà´ÊåáÂÆöÂèÇÊï∞
client = MongoClient(
    host='localhost',
    port=27018,
    username='appuser',
    password='app_password_here',
    authSource='myapp'
)

# SSL/TLSËøûÊé•
client = MongoClient(
    'mongodb://appuser:password@your-mongo-server.com:27018/myapp',
    ssl=True,
    ssl_cert_reqs=ssl.CERT_REQUIRED,
    ssl_ca_certs='/path/to/ca.pem',
    ssl_certfile='/path/to/client.pem'
)

# ËøûÊé•Ê±†ÂíåË∂ÖÊó∂ÈÖçÁΩÆ
client = MongoClient(
    'mongodb://appuser:password@localhost:27018/myapp',
    maxPoolSize=50,
    serverSelectionTimeoutMS=5000,
    socketTimeoutMS=5000
)
            </div>

            <h3>ÈÄöÁî®ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ</h3>
            <div class="code-box">
# 1. ËæìÂÖ•È™åËØÅÂíåÊ∏ÖÁêÜ
def validate_user_input(user_input):
    # È™åËØÅËæìÂÖ•ÈïøÂ∫¶
    if len(user_input) > 100:
        raise ValueError("ËæìÂÖ•ËøáÈïø")
    
    # ËøáÊª§ÁâπÊÆäÂ≠óÁ¨¶
    import re
    if re.search(r'[<>"\';]', user_input):
        raise ValueError("ÂåÖÂê´ÈùûÊ≥ïÂ≠óÁ¨¶")
    
    return user_input.strip()

# 2. ‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÂ≠òÂÇ®ÊïèÊÑü‰ø°ÊÅØ
import os

REDIS_PASSWORD = os.getenv('REDIS_PASSWORD')
MONGO_URI = os.getenv('MONGO_URI')

# 3. Êó•ÂøóËÆ∞ÂΩïÔºà‰∏çËÆ∞ÂΩïÊïèÊÑü‰ø°ÊÅØÔºâ
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

def log_database_operation(operation, collection, success):
    logger.info(f"Êï∞ÊçÆÂ∫ìÊìç‰Ωú: {operation}, ÈõÜÂêà: {collection}, ÊàêÂäü: {success}")
    # Ê≥®ÊÑèÔºö‰∏çË¶ÅËÆ∞ÂΩïÂØÜÁ†Å„ÄÅÁî®Êà∑Êï∞ÊçÆÁ≠âÊïèÊÑü‰ø°ÊÅØ

# 4. ÂÆöÊúüÂ§á‰ªΩ
import subprocess
from datetime import datetime

def backup_mongodb():
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    backup_file = f"backup_mongodb_{timestamp}.gz"
    
    cmd = [
        'mongodump',
        '--host', 'localhost:27018',
        '--username', 'backup_user',
        '--password', os.getenv('MONGO_BACKUP_PASSWORD'),
        '--authenticationDatabase', 'admin',
        '--gzip',
        '--archive', backup_file
    ]
    
    result = subprocess.run(cmd, capture_output=True, text=True)
    if result.returncode == 0:
        logger.info(f"MongoDBÂ§á‰ªΩÊàêÂäü: {backup_file}")
    else:
        logger.error(f"MongoDBÂ§á‰ªΩÂ§±Ë¥•: {result.stderr}")
            </div>

            <div class="tip-box">
                <strong>üîê ÂÆâÂÖ®ÊèêÈÜíÔºö</strong>Ê∞∏Ëøú‰∏çË¶ÅÂú®‰ª£Á†Å‰∏≠Á°¨ÁºñÁ†ÅÂØÜÁ†ÅÔºå‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÊàñÈÖçÁΩÆÊñá‰ª∂ÔºåÂπ∂ÂÆöÊúüÊõ¥Êñ∞ÂØÜÁ†ÅÂíåËØÅ‰π¶„ÄÇ
            </div>
        </div>

        <!-- ‰ΩïÊó∂‰ΩøÁî® -->
        <div id="when-to-use" class="section">
            <h2>üéØ ‰ªÄ‰πàÊó∂ÂÄô‰ΩøÁî®NoSQLÔºü</h2>
            
            <h3>‚úÖ ÈÄÇÂêà‰ΩøÁî®NoSQLÁöÑÂú∫ÊôØ</h3>
            <ul style="margin-left: 20px;">
                <li>üöÄ <strong>ÈúÄË¶ÅÈ´òÊÄßËÉΩÔºö</strong>ÁΩëÁ´ôËÆøÈóÆÈáèÂ§ßÔºåÈúÄË¶ÅÂø´ÈÄüÂìçÂ∫î</li>
                <li>üìä <strong>Â§ßÊï∞ÊçÆÂ§ÑÁêÜÔºö</strong>Êï∞ÊçÆÈáèÁâπÂà´Â§ßÔºå‰º†ÁªüÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜ‰∏çËøáÊù•</li>
                <li>üîÑ <strong>Êï∞ÊçÆÁªìÊûÑÁÅµÊ¥ªÔºö</strong>Êï∞ÊçÆÊ†ºÂºèÁªèÂ∏∏ÂèòÂåñÔºå‰∏çÂõ∫ÂÆö</li>
                <li>‚ö° <strong>Âø´ÈÄüÂºÄÂèëÔºö</strong>È°πÁõÆÈúÄË¶ÅÂø´ÈÄü‰∏äÁ∫øÔºå‰∏çÊÉ≥Ëä±Â§™Â§öÊó∂Èó¥ËÆæËÆ°Êï∞ÊçÆÂ∫ìÁªìÊûÑ</li>
            </ul>

            <h3>‚ùå ‰∏çÈÄÇÂêà‰ΩøÁî®NoSQLÁöÑÂú∫ÊôØ</h3>
            <ul style="margin-left: 20px;">
                <li>üí∞ <strong>ÈáëËûçÁ≥ªÁªüÔºö</strong>ÈúÄË¶Å‰∏•Ê†ºÁöÑ‰∫ãÂä°Â§ÑÁêÜÔºå‰∏çËÉΩÂá∫Èîô</li>
                <li>üìã <strong>Â§çÊùÇÂÖ≥Á≥ªÔºö</strong>Êï∞ÊçÆ‰πãÈó¥ÂÖ≥Á≥ªÂ§çÊùÇÔºåÈúÄË¶ÅÂ§çÊùÇÁöÑÊü•ËØ¢</li>
                <li>üë• <strong>Â∞èÂõ¢ÈòüÈ°πÁõÆÔºö</strong>Âõ¢ÈòüÂØπNoSQL‰∏çÁÜüÊÇâÔºåÂ≠¶‰π†ÊàêÊú¨È´ò</li>
            </ul>

            <div class="highlight-box">
                <strong>üéØ ÈÄâÊã©Âª∫ËÆÆÔºö</strong>
                <br>‚Ä¢ Êñ∞ÊâãÂª∫ËÆÆÂÖà‰ªéRedisÂºÄÂßãÂ≠¶ÔºåÊØîËæÉÁÆÄÂçï
                <br>‚Ä¢ ÊÉ≥ÂÅöÁΩëÁ´ôÂèØ‰ª•Â≠¶MongoDBÔºåÂæàÂÆûÁî®
                <br>‚Ä¢ ‰∏çË¶ÅÁõ≤ÁõÆËøΩÊ±ÇÊñ∞ÊäÄÊúØÔºåÊ†πÊçÆÂÆûÈôÖÈúÄÊ±ÇÈÄâÊã©
            </div>

            <h3>üöÄ ‰∏ã‰∏ÄÊ≠•Â≠¶‰π†Âª∫ËÆÆ</h3>
            <ol style="margin-left: 20px;">
                <li>ÂÖàÂÆâË£ÖRedisÔºåÁªÉ‰π†Âü∫Êú¨ÂëΩ‰ª§</li>
                <li>Â≠¶‰π†PythonÊìç‰ΩúRedisÁöÑÂ∫ìÔºàredis-pyÔºâ</li>
                <li>ÂÆâË£ÖMongoDBÔºåÁÜüÊÇâÂü∫Êú¨Êìç‰Ωú</li>
                <li>Â≠¶‰π†PythonÊìç‰ΩúMongoDBÁöÑÂ∫ìÔºàpymongoÔºâ</li>
                <li>ÂÅö‰∏Ä‰∏™Â∞èÈ°πÁõÆÔºåÊØîÂ¶ÇÁÆÄÂçïÁöÑÂçöÂÆ¢Á≥ªÁªü</li>
            </ol>

            <div class="tip-box">
                <strong>üí° Â≠¶‰π†Â∞èË¥¥Â£´Ôºö</strong>‰∏çË¶ÅÊÄ•‰∫éÊ±ÇÊàêÔºåÂÖàÊääÂü∫Á°ÄÊâìÁâ¢„ÄÇÂ§öÂä®ÊâãÁªÉ‰π†ÔºåÁêÜËÆ∫ÁªìÂêàÂÆûË∑µÊâçËÉΩÁúüÊ≠£ÊéåÊè°ÔºÅ
            </div>
        </div>

        <!-- ÂÆûÊàòÁªÉ‰π† -->
        <div id="practice" class="section">
            <h2>üöÄ ÂÆûÊàòÁªÉ‰π†È°πÁõÆ</h2>
            
            <div class="highlight-box">
                <strong>Âä®ÊâãÂÆûË∑µÔºö</strong>ÈÄöËøáÂÆûÈôÖÈ°πÁõÆÊù•Â∑©Âõ∫NoSQLÊï∞ÊçÆÂ∫ìÁöÑÂ≠¶‰π†ÊàêÊûú„ÄÇ
            </div>

            <h3>È°πÁõÆ1ÔºöÁî®Êà∑‰ºöËØùÁÆ°ÁêÜÁ≥ªÁªüÔºàRedisÔºâ</h3>
            <div class="code-box">
# Áî®Êà∑‰ºöËØùÁÆ°ÁêÜÁ≥ªÁªü
import redis
import json
import uuid
from datetime import datetime, timedelta

class SessionManager:
    def __init__(self):
        self.redis_client = redis.Redis(
            host='localhost', 
            port=6379, 
            db=0, 
            decode_responses=True
        )
        self.session_timeout = 3600  # 1Â∞èÊó∂
    
    def create_session(self, user_id, user_data):
        """ÂàõÂª∫Áî®Êà∑‰ºöËØù"""
        session_id = str(uuid.uuid4())
        session_data = {
            'user_id': user_id,
            'user_data': user_data,
            'created_at': datetime.now().isoformat(),
            'last_access': datetime.now().isoformat()
        }
        
        # Â≠òÂÇ®‰ºöËØùÊï∞ÊçÆÔºåËÆæÁΩÆËøáÊúüÊó∂Èó¥
        self.redis_client.setex(
            f"session:{session_id}",
            self.session_timeout,
            json.dumps(session_data, ensure_ascii=False)
        )
        
        # Áª¥Êä§Áî®Êà∑ÁöÑÊ¥ªË∑É‰ºöËØùÂàóË°®
        self.redis_client.sadd(f"user_sessions:{user_id}", session_id)
        
        return session_id
    
    def get_session(self, session_id):
        """Ëé∑Âèñ‰ºöËØù‰ø°ÊÅØ"""
        session_data = self.redis_client.get(f"session:{session_id}")
        if session_data:
            data = json.loads(session_data)
            # Êõ¥Êñ∞ÊúÄÂêéËÆøÈóÆÊó∂Èó¥
            data['last_access'] = datetime.now().isoformat()
            self.redis_client.setex(
                f"session:{session_id}",
                self.session_timeout,
                json.dumps(data, ensure_ascii=False)
            )
            return data
        return None
    
    def delete_session(self, session_id):
        """Âà†Èô§‰ºöËØù"""
        session_data = self.get_session(session_id)
        if session_data:
            user_id = session_data['user_id']
            self.redis_client.delete(f"session:{session_id}")
            self.redis_client.srem(f"user_sessions:{user_id}", session_id)
            return True
        return False
    
    def get_user_sessions(self, user_id):
        """Ëé∑ÂèñÁî®Êà∑ÁöÑÊâÄÊúâÊ¥ªË∑É‰ºöËØù"""
        session_ids = self.redis_client.smembers(f"user_sessions:{user_id}")
        sessions = []
        for session_id in session_ids:
            session_data = self.get_session(session_id)
            if session_data:
                sessions.append({
                    'session_id': session_id,
                    'data': session_data
                })
        return sessions

# ‰ΩøÁî®Á§∫‰æã
session_mgr = SessionManager()

# ÂàõÂª∫‰ºöËØù
user_data = {'name': 'Âº†‰∏â', 'role': 'user', 'email': 'zhangsan@example.com'}
session_id = session_mgr.create_session('user123', user_data)
print(f"‰ºöËØùÂàõÂª∫ÊàêÂäüÔºö{session_id}")

# Ëé∑Âèñ‰ºöËØù
session = session_mgr.get_session(session_id)
print(f"‰ºöËØù‰ø°ÊÅØÔºö{session}")

# Ëé∑ÂèñÁî®Êà∑ÊâÄÊúâ‰ºöËØù
user_sessions = session_mgr.get_user_sessions('user123')
print(f"Áî®Êà∑‰ºöËØùÊï∞Ôºö{len(user_sessions)}")
            </div>

            <h3>È°πÁõÆ2ÔºöÂçöÂÆ¢ÂÜÖÂÆπÁÆ°ÁêÜÁ≥ªÁªüÔºàMongoDBÔºâ</h3>
            <div class="code-box">
# ÂçöÂÆ¢ÂÜÖÂÆπÁÆ°ÁêÜÁ≥ªÁªü
from pymongo import MongoClient
from datetime import datetime
from bson import ObjectId
import re

class BlogCMS:
    def __init__(self):
        self.client = MongoClient('mongodb://localhost:27017/')
        self.db = self.client['blog_cms']
        self.posts = self.db['posts']
        self.categories = self.db['categories']
        self.tags = self.db['tags']
        self.comments = self.db['comments']
        
        # ÂàõÂª∫Á¥¢Âºï
        self.posts.create_index('title')
        self.posts.create_index('author')
        self.posts.create_index('created_at')
        self.posts.create_index([('title', 'text'), ('content', 'text')])
    
    def create_category(self, name, description):
        """ÂàõÂª∫ÂàÜÁ±ª"""
        category = {
            'name': name,
            'description': description,
            'created_at': datetime.now(),
            'post_count': 0
        }
        return self.categories.insert_one(category).inserted_id
    
    def create_post(self, title, content, author, category_id, tags=None):
        """ÂàõÂª∫ÊñáÁ´†"""
        post = {
            'title': title,
            'content': content,
            'author': author,
            'category_id': ObjectId(category_id),
            'tags': tags or [],
            'created_at': datetime.now(),
            'updated_at': datetime.now(),
            'views': 0,
            'likes': 0,
            'status': 'published'
        }
        
        post_id = self.posts.insert_one(post).inserted_id
        
        # Êõ¥Êñ∞ÂàÜÁ±ªÊñáÁ´†Êï∞
        self.categories.update_one(
            {'_id': ObjectId(category_id)},
            {'$inc': {'post_count': 1}}
        )
        
        # Êõ¥Êñ∞Ê†áÁ≠æ
        if tags:
            for tag in tags:
                self.tags.update_one(
                    {'name': tag},
                    {
                        '$inc': {'post_count': 1},
                        '$setOnInsert': {'created_at': datetime.now()}
                    },
                    upsert=True
                )
        
        return post_id
    
    def get_posts(self, page=1, per_page=10, category_id=None, tag=None):
        """Ëé∑ÂèñÊñáÁ´†ÂàóË°®"""
        query = {'status': 'published'}
        
        if category_id:
            query['category_id'] = ObjectId(category_id)
        
        if tag:
            query['tags'] = tag
        
        skip = (page - 1) * per_page
        
        posts = self.posts.find(query).sort('created_at', -1).skip(skip).limit(per_page)
        
        # ÂÖ≥ËÅîÂàÜÁ±ª‰ø°ÊÅØ
        result = []
        for post in posts:
            category = self.categories.find_one({'_id': post['category_id']})
            post['category'] = category['name'] if category else 'Êú™ÂàÜÁ±ª'
            result.append(post)
        
        return result
    
    def search_posts(self, keyword):
        """ÊêúÁ¥¢ÊñáÁ´†"""
        # ‰ΩøÁî®ÊñáÊú¨Á¥¢ÂºïÊêúÁ¥¢
        posts = self.posts.find(
            {'$text': {'$search': keyword}},
            {'score': {'$meta': 'textScore'}}
        ).sort([('score', {'$meta': 'textScore'})])
        
        return list(posts)
    
    def add_comment(self, post_id, author, content, parent_id=None):
        """Ê∑ªÂä†ËØÑËÆ∫"""
        comment = {
            'post_id': ObjectId(post_id),
            'author': author,
            'content': content,
            'parent_id': ObjectId(parent_id) if parent_id else None,
            'created_at': datetime.now(),
            'likes': 0
        }
        return self.comments.insert_one(comment).inserted_id
    
    def get_post_with_comments(self, post_id):
        """Ëé∑ÂèñÊñáÁ´†ÂèäÂÖ∂ËØÑËÆ∫"""
        # ‰ΩøÁî®ËÅöÂêàÊü•ËØ¢
        pipeline = [
            {'$match': {'_id': ObjectId(post_id)}},
            {'$lookup': {
                'from': 'comments',
                'localField': '_id',
                'foreignField': 'post_id',
                'as': 'comments'
            }},
            {'$lookup': {
                'from': 'categories',
                'localField': 'category_id',
                'foreignField': '_id',
                'as': 'category'
            }}
        ]
        
        result = list(self.posts.aggregate(pipeline))
        if result:
            post = result[0]
            post['category'] = post['category'][0] if post['category'] else None
            return post
        return None
    
    def get_statistics(self):
        """Ëé∑ÂèñÁªüËÆ°‰ø°ÊÅØ"""
        stats = {
            'total_posts': self.posts.count_documents({'status': 'published'}),
            'total_categories': self.categories.count_documents({}),
            'total_tags': self.tags.count_documents({}),
            'total_comments': self.comments.count_documents({})
        }
        
        # ÊúÄÂèóÊ¨¢ËøéÁöÑÊñáÁ´†
        popular_posts = list(self.posts.find(
            {'status': 'published'}
        ).sort('views', -1).limit(5))
        
        stats['popular_posts'] = popular_posts
        return stats

# ‰ΩøÁî®Á§∫‰æã
blog = BlogCMS()

# ÂàõÂª∫ÂàÜÁ±ª
tech_category = blog.create_category('ÊäÄÊúØ', 'ÊäÄÊúØÁõ∏ÂÖ≥ÊñáÁ´†')
life_category = blog.create_category('ÁîüÊ¥ª', 'ÁîüÊ¥ªÊÑüÊÇüÊñáÁ´†')

# ÂàõÂª∫ÊñáÁ´†
post_id = blog.create_post(
    title='NoSQLÊï∞ÊçÆÂ∫ìÂ≠¶‰π†ÂøÉÂæó',
    content='‰ªäÂ§©Â≠¶‰π†‰∫ÜRedisÂíåMongoDBÔºåÊî∂Ëé∑ÂæàÂ§ß...',
    author='Âº†‰∏â',
    category_id=str(tech_category),
    tags=['NoSQL', 'Redis', 'MongoDB', 'Êï∞ÊçÆÂ∫ì']
)

# Ê∑ªÂä†ËØÑËÆ∫
comment_id = blog.add_comment(
    post_id=str(post_id),
    author='ÊùéÂõõ',
    content='ÂÜôÂæóÂæàÂ•ΩÔºåÂ≠¶Âà∞‰∫ÜÂæàÂ§öÔºÅ'
)

# Ëé∑ÂèñÊñáÁ´†ÂíåËØÑËÆ∫
post_with_comments = blog.get_post_with_comments(str(post_id))
print(f"ÊñáÁ´†Ê†áÈ¢òÔºö{post_with_comments['title']}")
print(f"ËØÑËÆ∫Êï∞Ôºö{len(post_with_comments['comments'])}")

# ÊêúÁ¥¢ÊñáÁ´†
search_results = blog.search_posts('NoSQL')
print(f"ÊêúÁ¥¢ÁªìÊûúÔºö{len(search_results)}ÁØáÊñáÁ´†")

# Ëé∑ÂèñÁªüËÆ°‰ø°ÊÅØ
stats = blog.get_statistics()
print(f"ÂçöÂÆ¢ÁªüËÆ°Ôºö{stats}")
            </div>

            <h3>È°πÁõÆ3ÔºöÂÆûÊó∂ËÅäÂ§©Á≥ªÁªüÔºàRedis + MongoDBÔºâ</h3>
            <div class="code-box">
# ÂÆûÊó∂ËÅäÂ§©Á≥ªÁªüÔºàÁªìÂêàRedisÂíåMongoDBÔºâ
import redis
from pymongo import MongoClient
from datetime import datetime
import json

class ChatSystem:
    def __init__(self):
        # RedisÁî®‰∫éÂÆûÊó∂Ê∂àÊÅØÂíåÂú®Á∫øÁî®Êà∑
        self.redis_client = redis.Redis(
            host='localhost', 
            port=6379, 
            db=0, 
            decode_responses=True
        )
        
        # MongoDBÁî®‰∫éÊ∂àÊÅØÊåÅ‰πÖÂåñ
        self.mongo_client = MongoClient('mongodb://localhost:27017/')
        self.db = self.mongo_client['chat_system']
        self.messages = self.db['messages']
        self.rooms = self.db['rooms']
        self.users = self.db['users']
        
        # ÂàõÂª∫Á¥¢Âºï
        self.messages.create_index([('room_id', 1), ('created_at', -1)])
        self.messages.create_index('sender_id')
    
    def create_room(self, name, description, creator_id):
        """ÂàõÂª∫ËÅäÂ§©ÂÆ§"""
        room = {
            'name': name,
            'description': description,
            'creator_id': creator_id,
            'created_at': datetime.now(),
            'member_count': 1,
            'last_message_at': datetime.now()
        }
        room_id = self.rooms.insert_one(room).inserted_id
        
        # Â∞ÜÂàõÂª∫ËÄÖÂä†ÂÖ•ÊàøÈó¥
        self.join_room(str(room_id), creator_id)
        
        return room_id
    
    def join_room(self, room_id, user_id):
        """Áî®Êà∑Âä†ÂÖ•ËÅäÂ§©ÂÆ§"""
        # Ê∑ªÂä†Âà∞RedisÂú®Á∫øÁî®Êà∑ÂàóË°®
        self.redis_client.sadd(f"room:{room_id}:users", user_id)
        
        # Êõ¥Êñ∞MongoDBÊàøÈó¥ÊàêÂëòÊï∞
        self.rooms.update_one(
            {'_id': ObjectId(room_id)},
            {'$inc': {'member_count': 1}}
        )
        
        # ÂèëÈÄÅÁ≥ªÁªüÊ∂àÊÅØ
        self.send_system_message(room_id, f"Áî®Êà∑ {user_id} Âä†ÂÖ•‰∫ÜËÅäÂ§©ÂÆ§")
    
    def leave_room(self, room_id, user_id):
        """Áî®Êà∑Á¶ªÂºÄËÅäÂ§©ÂÆ§"""
        # ‰ªéRedisÂú®Á∫øÁî®Êà∑ÂàóË°®ÁßªÈô§
        self.redis_client.srem(f"room:{room_id}:users", user_id)
        
        # Êõ¥Êñ∞MongoDBÊàøÈó¥ÊàêÂëòÊï∞
        self.rooms.update_one(
            {'_id': ObjectId(room_id)},
            {'$inc': {'member_count': -1}}
        )
        
        # ÂèëÈÄÅÁ≥ªÁªüÊ∂àÊÅØ
        self.send_system_message(room_id, f"Áî®Êà∑ {user_id} Á¶ªÂºÄ‰∫ÜËÅäÂ§©ÂÆ§")
    
    def send_message(self, room_id, sender_id, content, message_type='text'):
        """ÂèëÈÄÅÊ∂àÊÅØ"""
        message = {
            'room_id': room_id,
            'sender_id': sender_id,
            'content': content,
            'message_type': message_type,
            'created_at': datetime.now()
        }
        
        # ‰øùÂ≠òÂà∞MongoDB
        message_id = self.messages.insert_one(message).inserted_id
        message['_id'] = str(message_id)
        
        # ÂèëÂ∏ÉÂà∞RedisÈ¢ëÈÅìÔºàÂÆûÊó∂Êé®ÈÄÅÔºâ
        self.redis_client.publish(
            f"room:{room_id}",
            json.dumps(message, default=str, ensure_ascii=False)
        )
        
        # Êõ¥Êñ∞ÊàøÈó¥ÊúÄÂêéÊ∂àÊÅØÊó∂Èó¥
        self.rooms.update_one(
            {'_id': ObjectId(room_id)},
            {'$set': {'last_message_at': datetime.now()}}
        )
        
        return message_id
    
    def send_system_message(self, room_id, content):
        """ÂèëÈÄÅÁ≥ªÁªüÊ∂àÊÅØ"""
        return self.send_message(room_id, 'system', content, 'system')
    
    def get_room_messages(self, room_id, page=1, per_page=50):
        """Ëé∑ÂèñËÅäÂ§©ÂÆ§ÂéÜÂè≤Ê∂àÊÅØ"""
        skip = (page - 1) * per_page
        
        messages = self.messages.find(
            {'room_id': room_id}
        ).sort('created_at', -1).skip(skip).limit(per_page)
        
        return list(reversed(list(messages)))
    
    def get_online_users(self, room_id):
        """Ëé∑ÂèñËÅäÂ§©ÂÆ§Âú®Á∫øÁî®Êà∑"""
        return list(self.redis_client.smembers(f"room:{room_id}:users"))
    
    def get_user_rooms(self, user_id):
        """Ëé∑ÂèñÁî®Êà∑ÂèÇ‰∏éÁöÑËÅäÂ§©ÂÆ§"""
        # ‰ªéRedisËé∑ÂèñÁî®Êà∑ÂΩìÂâçÂú®Á∫øÁöÑÊàøÈó¥
        room_keys = self.redis_client.keys("room:*:users")
        user_rooms = []
        
        for key in room_keys:
            if self.redis_client.sismember(key, user_id):
                room_id = key.split(':')[1]
                room = self.rooms.find_one({'_id': ObjectId(room_id)})
                if room:
                    room['online_users'] = len(self.get_online_users(room_id))
                    user_rooms.append(room)
        
        return user_rooms
    
    def subscribe_room(self, room_id):
        """ËÆ¢ÈòÖËÅäÂ§©ÂÆ§Ê∂àÊÅØÔºàÁî®‰∫éÂÆûÊó∂Êé®ÈÄÅÔºâ"""
        pubsub = self.redis_client.pubsub()
        pubsub.subscribe(f"room:{room_id}")
        return pubsub

# ‰ΩøÁî®Á§∫‰æã
chat = ChatSystem()

# ÂàõÂª∫ËÅäÂ§©ÂÆ§
room_id = chat.create_room('ÊäÄÊúØËÆ®ËÆ∫', 'NoSQLÊï∞ÊçÆÂ∫ìÊäÄÊúØ‰∫§ÊµÅ', 'user123')
print(f"ËÅäÂ§©ÂÆ§ÂàõÂª∫ÊàêÂäüÔºö{room_id}")

# Áî®Êà∑Âä†ÂÖ•ËÅäÂ§©ÂÆ§
chat.join_room(str(room_id), 'user456')
chat.join_room(str(room_id), 'user789')

# ÂèëÈÄÅÊ∂àÊÅØ
message_id = chat.send_message(
    str(room_id), 
    'user123', 
    'Â§ßÂÆ∂Â•ΩÔºåÊ¨¢ËøéÊù•Âà∞ÊäÄÊúØËÆ®ËÆ∫ÂÆ§ÔºÅ'
)

chat.send_message(
    str(room_id), 
    'user456', 
    'Ë∞¢Ë∞¢ÔºÅÊàëÊÉ≥‰∫ÜËß£‰∏Ä‰∏ãRedisÁöÑ‰ΩøÁî®Âú∫ÊôØ'
)

# Ëé∑ÂèñËÅäÂ§©ËÆ∞ÂΩï
messages = chat.get_room_messages(str(room_id))
print(f"ËÅäÂ§©ËÆ∞ÂΩïÔºö{len(messages)}Êù°Ê∂àÊÅØ")

# Ëé∑ÂèñÂú®Á∫øÁî®Êà∑
online_users = chat.get_online_users(str(room_id))
print(f"Âú®Á∫øÁî®Êà∑Ôºö{online_users}")

# Ëé∑ÂèñÁî®Êà∑ÂèÇ‰∏éÁöÑËÅäÂ§©ÂÆ§
user_rooms = chat.get_user_rooms('user123')
print(f"Áî®Êà∑ËÅäÂ§©ÂÆ§Ôºö{len(user_rooms)}‰∏™")
            </div>

            <h3>ÁªÉ‰π†‰ªªÂä°</h3>
            <div class="highlight-box">
                <strong>üéØ ÊåëÊàò‰ªªÂä°Ôºö</strong>
                <br>1. ÂÆåÂñÑ‰ºöËØùÁÆ°ÁêÜÁ≥ªÁªüÔºåÊ∑ªÂä†‰ºöËØùÁªüËÆ°ÂäüËÉΩ
                <br>2. ‰∏∫ÂçöÂÆ¢Á≥ªÁªüÊ∑ªÂä†ÊñáÁ´†ÁÇπËµûÂíåÊî∂ËóèÂäüËÉΩ
                <br>3. ÂÆûÁé∞ËÅäÂ§©Á≥ªÁªüÁöÑÊ∂àÊÅØÊí§ÂõûÂíåÁºñËæëÂäüËÉΩ
                <br>4. Ê∑ªÂä†Êï∞ÊçÆÂ§á‰ªΩÂíåÊÅ¢Â§çÂäüËÉΩ
                <br>5. ÂÆûÁé∞ÁÆÄÂçïÁöÑÊï∞ÊçÆÂàÜÊûêÂíåÊä•Ë°®ÂäüËÉΩ
            </div>

            <div class="tip-box">
                <strong>üí° È°πÁõÆÊèêÁ§∫Ôºö</strong>Ëøô‰∫õÈ°πÁõÆÊ∂µÁõñ‰∫ÜNoSQLÊï∞ÊçÆÂ∫ìÁöÑ‰∏ªË¶ÅÂ∫îÁî®Âú∫ÊôØÔºåÈÄöËøáÂÆûÈôÖÁºñÁ†ÅÂèØ‰ª•Êõ¥Â•ΩÂú∞ÁêÜËß£RedisÂíåMongoDBÁöÑÁâπÁÇπÂíåÁî®Ê≥ï„ÄÇÂª∫ËÆÆÂÖà‰ªéÁÆÄÂçïÂäüËÉΩÂºÄÂßãÔºåÈÄêÊ≠•ÂÆåÂñÑ„ÄÇ
            </div>
        </div>

        <!-- È°µËÑö -->
        <div style="text-align: center; padding: 20px; color: #666; border-top: 1px solid #ddd; margin-top: 30px;">
            <p>üéì NoSQLÊï∞ÊçÆÂ∫ìÊñ∞ÊâãÂÖ•Èó®ÊïôÁ®ã | ÁÆÄÂçïÊòìÊáÇÔºåÂø´ÈÄü‰∏äÊâã</p>
            <p style="font-size: 0.9em; margin-top: 5px;">ËÆ∞‰ΩèÔºöÂ≠¶‰π†ÁºñÁ®ãÊúÄÈáçË¶ÅÁöÑÊòØÂ§öÁªÉ‰π†Ôºå‰∏çË¶ÅÂè™Áúã‰∏çÂÅöÔºÅ</p>
        </div>
    </div>

    <!-- ÁÆÄÂçïÁöÑJavaScript‰∫§‰∫í -->
    <script>
        // Âπ≥ÊªëÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆ
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // ÁÆÄÂçïÁöÑ‰ª£Á†ÅÂ§çÂà∂ÂäüËÉΩ
        document.querySelectorAll('.code-box').forEach(codeBox => {
            codeBox.addEventListener('click', function() {
                const text = this.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    // ÁÆÄÂçïÁöÑÊèêÁ§∫
                    const originalBg = this.style.backgroundColor;
                    this.style.backgroundColor = '#4a5568';
                    setTimeout(() => {
                        this.style.backgroundColor = originalBg;
                    }, 200);
                });
            });
        });

        // ËøõÂ∫¶Êù°ÂäüËÉΩ
        function updateProgressBar() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollTop / scrollHeight) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        window.addEventListener('scroll', updateProgressBar);

        // ÊêúÁ¥¢ÂäüËÉΩ
        let searchIndex = [];

        function buildSearchIndex() {
            const sections = document.querySelectorAll('.section');
            searchIndex = [];
            
            sections.forEach((section, index) => {
                const title = section.querySelector('h2');
                const content = section.textContent.toLowerCase();
                const id = section.id || `section-${index}`;
                
                if (!section.id) {
                    section.id = id;
                }
                
                searchIndex.push({
                    id: id,
                    title: title ? title.textContent : `Á´†ËäÇ ${index + 1}`,
                    content: content,
                    element: section
                });
            });
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            const resultsContainer = document.getElementById('searchResults');
            
            if (query.length < 2) {
                resultsContainer.style.display = 'none';
                return;
            }
            
            const results = searchIndex.filter(item => 
                item.content.includes(query) || item.title.toLowerCase().includes(query)
            );
            
            if (results.length === 0) {
                resultsContainer.innerHTML = '<div class="search-result-item">Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÂÜÖÂÆπ</div>';
            } else {
                resultsContainer.innerHTML = results.map(result => {
                    const snippet = getSnippet(result.content, query);
                    return `<div class="search-result-item" onclick="scrollToElement('${result.id}')">
                        <strong>${result.title}</strong><br>
                        <small>${snippet}</small>
                    </div>`;
                }).join('');
            }
            
            resultsContainer.style.display = 'block';
        }

        function getSnippet(content, query) {
            const index = content.indexOf(query);
            const start = Math.max(0, index - 50);
            const end = Math.min(content.length, index + query.length + 50);
            let snippet = content.substring(start, end);
            
            if (start > 0) snippet = '...' + snippet;
            if (end < content.length) snippet = snippet + '...';
            
            return snippet.replace(new RegExp(query, 'gi'), `<span class="search-highlight">${query}</span>`);
        }

        function scrollToElement(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                element.style.backgroundColor = '#fff3cd';
                setTimeout(() => {
                    element.style.backgroundColor = '';
                }, 2000);
            }
            document.getElementById('searchResults').style.display = 'none';
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').style.display = 'none';
        }

        // ÊêúÁ¥¢ËæìÂÖ•‰∫ã‰ª∂
        document.getElementById('searchInput').addEventListener('input', performSearch);
        
        // ÊåâEnterÈîÆÊêúÁ¥¢
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // ÁÇπÂáªÈ°µÈù¢ÂÖ∂‰ªñÂú∞ÊñπÈöêËóèÊêúÁ¥¢ÁªìÊûú
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.search-container')) {
                document.getElementById('searchResults').style.display = 'none';
            }
        });

        // ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆ
        const backToTopBtn = document.createElement('button');
        backToTopBtn.innerHTML = '‚Üë';
        backToTopBtn.className = 'back-to-top';
        backToTopBtn.onclick = function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };
        document.body.appendChild(backToTopBtn);

        // ÊòæÁ§∫/ÈöêËóèËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆ
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        });

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÊûÑÂª∫ÊêúÁ¥¢Á¥¢Âºï
        window.addEventListener('load', function() {
            buildSearchIndex();
            updateProgressBar();
        });
    </script>
</body>
</html>